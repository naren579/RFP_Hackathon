A service state notification is sent when a service (for example, the LDR service or NMS service) enters the selected service state and when it leaves the selected service state. Service state notifications are send when a service enters or leaves ones of the following service states:

Unknown

Administratively Down

A mailing list receives all notifications related to changes in the selected state. Configure email server settings for alarms (legacy system)

If you want StorageGRID to send email notifications when a legacy alarm is triggered, you must specify the SMTP mail server settings. The StorageGRID system only sends email; it can’t receive email.

Before you begin

You must be signed in to the Grid Manager using a supported web browser.

You have specific access permissions. About this task

Use these settings to define the SMTP server used for legacy alarm email notifications and AutoSupport email messages. These settings aren’t used for alert notifications.

If you use SMTP as the protocol for AutoSupport packages, you might have already configured an SMTP mail server. The same SMTP server is used for alarm email notifications, so you can skip this procedure. See the instructions for administering StorageGRID.

1133

SMTP is the only protocol supported for sending email. Steps

1. Select SUPPORT > Alarms (legacy) > Legacy email setup.

2. From the Email menu, select Server.

The Email Server page appears. This page is also used to configure the email server for AutoSupport packages.

3. Add the following SMTP mail server settings:

Item

Description

Mail Server

IP address of the SMTP mail server. You can enter a hostname rather than an IP address if you have previously configured DNS settings on the Admin Node. Port

Port number to access the SMTP mail server.

Authentication

Allows for the authentication of the SMTP mail server. By default, authentication is Off.

Authentication Credentials

Username and password of the SMTP mail server. If Authentication is set to On, a username and password to access the SMTP mail server must be provided.

1134

4. Under From Address, enter a valid email address that the SMTP server will recognize as the sending

email address. This is the official email address from which the email message is sent.

5. Optionally, send a test email to confirm that your SMTP mail server settings are correct.

a. In the Test E-mail > To box, add one or more addresses that you can access.

You can enter a single email address or a comma-delineated list of email addresses. Because the NMS service does not confirm success or failure when a test email is sent, you must be able to check the test recipient’s inbox. b. Select Send Test E-mail.

6. Click Apply Changes.

The SMTP mail server settings are saved. If you entered information for a test email, that email is sent. Test emails are sent to the mail server immediately and aren’t sent through the notifications queue. In a system with multiple Admin Nodes, each Admin Node sends an email. Receipt of the test email confirms that your SMTP mail server settings are correct and that the NMS service is successfully connecting to the mail server. A connection problem between the NMS service and the mail server triggers the legacy MINS (NMS Notification Status) alarm at the Minor severity level. Create alarm email templates (legacy system)

Email templates let you customize the header, footer, and subject line of a legacy alarm email notification. You can use email templates to send unique notifications that contain the same body text to different mailing lists.

Before you begin

You must be signed in to the Grid Manager using a supported web browser.

You have specific access permissions. About this task

Use these settings to define the email templates used for legacy alarm notifications. These settings aren’t used for alert notifications.

Different mailing lists might require different contact information. Templates don’t include the body text of the email message.

Steps

1. Select SUPPORT > Alarms (legacy) > Legacy email setup. 6. Click Apply Changes.

The SMTP mail server settings are saved. If you entered information for a test email, that email is sent. Test emails are sent to the mail server immediately and aren’t sent through the notifications queue. In a system with multiple Admin Nodes, each Admin Node sends an email. Receipt of the test email confirms that your SMTP mail server settings are correct and that the NMS service is successfully connecting to the mail server. A connection problem between the NMS service and the mail server triggers the legacy MINS (NMS Notification Status) alarm at the Minor severity level. Create alarm email templates (legacy system)

Email templates let you customize the header, footer, and subject line of a legacy alarm email notification. You can use email templates to send unique notifications that contain the same body text to different mailing lists.

Before you begin