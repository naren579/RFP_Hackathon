Steps

1. Select CONFIGURATION > System > Storage settings.

2. On the Storage settings page, expand the Metadata reserved space section.

For StorageGRID 11.8 or higher, the Metadata reserved space value must be at least 100 GB and no more than 1 PB.

The default setting for a new StorageGRID 11.6 or higher installation in which each Storage Node has 128 GB or more of RAM is 8,000 GB (8 TB).

Actual reserved space for metadata Amount of RAM on Storage Nodes

Default Metadata reserved space setting

11.5 to 11.8

128 GB or more on each Storage Node in the grid

8 TB (8,000 GB)

Less than 128 GB on any Storage Node in the grid

3 TB (3,000 GB)

11.1 to 11.4

128 GB or more on each Storage Node at any one site

4 TB (4,000 GB) Less than 128 GB on any Storage Node at each site

3 TB (3,000 GB)

11.0 or earlier

Any amount

2 TB (2,000 GB)

View Metadata reserved space setting

Follow these steps to view the Metadata reserved space setting for your StorageGRID system.

Steps

1. Select CONFIGURATION > System > Storage settings.

2. On the Storage settings page, expand the Metadata reserved space section.

For StorageGRID 11.8 or higher, the Metadata reserved space value must be at least 100 GB and no more than 1 PB.

The default setting for a new StorageGRID 11.6 or higher installation in which each Storage Node has 128 GB or more of RAM is 8,000 GB (8 TB).

Actual reserved space for metadata

In contrast to the system-wide Metadata reserved space setting, the actual reserved space for object metadata is determined for each Storage Node. For any given Storage Node, the actual reserved space for metadata depends on the size of volume 0 for the node and the system-wide Metadata reserved space setting. Size of volume 0 for the node

Actual reserved space for metadata

Less than 500 GB (non-production use)

10% of volume 0

552

Size of volume 0 for the node

Actual reserved space for metadata

500 GB or more or Metadata-only Storage Nodes

The smaller of these values:

Volume 0

Metadata reserved space setting

Note: Only one rangedb is required for metadata-only Storage Nodes.

View actual reserved space for metadata

Follow these steps to view the actual reserved space for metadata on a particular Storage Node. Steps

1. From the Grid Manager, select NODES > Storage Node.

2. Select the Storage tab.

3. Position your cursor over the Storage Used - Object Metadata chart and locate the Actual reserved value.

In the screenshot, the Actual reserved value is 8 TB. This screenshot is for a large Storage Node in a new StorageGRID 11.6 installation. Because the system-wide Metadata reserved space setting is smaller than volume 0 for this Storage Node, the actual reserved space for this node equals the Metadata reserved space setting.

Example for actual reserved metadata space

Suppose you install a new StorageGRID system using version 11.7 or later. For this example, assume that each Storage Node has more than 128 GB of RAM and that volume 0 of Storage Node 1 (SN1) is 6 TB. Based on these values:

The system-wide Metadata reserved space is set to 8 TB. (This is the default value for a new StorageGRID 11.6 or higher installation if each Storage Node has more than 128 GB RAM.) The actual reserved space for metadata for SN1 is 6 TB. (The entire volume is reserved because volume 0 is smaller than the Metadata reserved space setting.)

553

Allowed metadata space

Each Storage Node’s actual reserved space for metadata is subdivided into the space available for object metadata (the allowed metadata space) and the space required for essential database operations (such as compaction and repair) and future hardware and software upgrades. The allowed metadata space governs overall object capacity.

The following table shows how StorageGRID calculates the allowed metadata space for different Storage Nodes, based on the amount of memory for the node and the actual reserved space for metadata. Amount of memory on Storage Node

< 128 GB

>= 128 GB

Actual reserved space for metadata

<= 4 TB

60% of actual reserved space for metadata, up to a maximum of 1.32 TB

60% of actual reserved space for metadata, up to a maximum of 1.98 TB

> 4 TB

(Actual reserved space for metadata − 1 TB) × 60%, up to a maximum of 1.32 TB

(Actual reserved space for metadata − 1 TB) × 60%, up to a maximum of 3.96 TB

554

View allowed metadata space 553

Allowed metadata space

Each Storage Node’s actual reserved space for metadata is subdivided into the space available for object metadata (the allowed metadata space) and the space required for essential database operations (such as compaction and repair) and future hardware and software upgrades. The allowed metadata space governs overall object capacity.

The following table shows how StorageGRID calculates the allowed metadata space for different Storage Nodes, based on the amount of memory for the node and the actual reserved space for metadata. Amount of memory on Storage Node

< 128 GB

>= 128 GB