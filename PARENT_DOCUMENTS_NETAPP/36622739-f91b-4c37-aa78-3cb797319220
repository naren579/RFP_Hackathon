If you are copying a CA bundle, all the certificates in the CA bundle secondary tabs copy together.

b. Paste the copied certificate into a text editor.

c. Save the text file with the extension .pem.

For example: storagegrid_certificate.pem

Configure S3 and Swift API certificates

You can replace or restore the server certificate that is used for S3 or Swift client connections to Storage Nodes or to load balancer endpoints. The replacement custom server certificate is specific to your organization. About this task

By default, every Storage Node is issued a X.509 server certificate signed by the grid CA. These CA signed certificates can be replaced by a single common custom server certificate and corresponding private key.

A single custom server certificate is used for all Storage Nodes, so you must specify the certificate as a wildcard or multi-domain certificate if clients need to verify the hostname when connecting to the storage endpoint. Define the custom certificate such that it matches all Storage Nodes in the grid.

After completing configuration on the server, you might also need to install the Grid CA certificate in the S3 or Swift API client you will use to access the system, depending on the root certificate authority (CA) you are using. To ensure that operations aren’t disrupted by a failed server certificate, the Expiration of global server certificate for S3 and Swift API alert is triggered when the root server certificate is about to expire. As required, you can view when the current certificate expires by selecting CONFIGURATION > Security > Certificates and looking at the Expiration date for the S3 and Swift API certificate on the Global tab.

409

You can upload or generate a custom S3 and Swift API certificate.

Add a custom S3 and Swift API certificate Steps

1. Select CONFIGURATION > Security > Certificates.

2. On the Global tab, select S3 and Swift API certificate.

3. Select Use custom certificate.

4. Upload or generate the certificate.

410

Upload certificate

Upload the required server certificate files.

a. Select Upload certificate. b. Upload the required server certificate files:

▪ Server certificate: The custom server certificate file (PEM encoded). ▪ Certificate private key: The custom server certificate private key file (.key).

EC private keys must be 224 bits or larger. RSA private keys must be 2048 bits or larger.

▪ CA bundle: A single optional file containing the certificates from each intermediate issuing certificate authority. The file should contain each of the PEM-encoded CA certificate files, concatenated in certificate chain order. 409

You can upload or generate a custom S3 and Swift API certificate.

Add a custom S3 and Swift API certificate Steps

1. Select CONFIGURATION > Security > Certificates.

2. On the Global tab, select S3 and Swift API certificate.

3. Select Use custom certificate.

4. Upload or generate the certificate.

410

Upload certificate

Upload the required server certificate files.

a. Select Upload certificate. b. Upload the required server certificate files:

▪ Server certificate: The custom server certificate file (PEM encoded). ▪ Certificate private key: The custom server certificate private key file (.key).

EC private keys must be 224 bits or larger. RSA private keys must be 2048 bits or larger.

▪ CA bundle: A single optional file containing the certificates from each intermediate issuing certificate authority. The file should contain each of the PEM-encoded CA certificate files, concatenated in certificate chain order.

c. Select the certificate details to display the metadata and PEM for each custom S3 and Swift API certificate that was uploaded. If you uploaded an optional CA bundle, each certificate displays on its own tab.

▪ Select Download certificate to save the certificate file or select Download CA bundle to

save the certificate bundle.

Specify the certificate file name and download location. Save the file with the extension .pem. For example: storagegrid_certificate.pem

▪ Select Copy certificate PEM or Copy CA bundle PEM to copy the certificate contents for

pasting elsewhere.

d. Select Save.

The custom server certificate is used for subsequent new S3 and Swift client connections.

Generate certificate

Generate the server certificate files. a. Select Generate certificate.

b. Specify the certificate information:

Field

Description

Domain name

One or more fully qualified domain names to include in the certificate. Use an * as a wildcard to represent multiple domain names.

IP

One or more IP addresses to include in the certificate.

Subject (optional)

X.509 subject or distinguished name (DN) of the certificate owner.

If no value is entered in this field, the generated certificate uses the first domain name or IP address as the subject common name (CN).

411

Field

Description

Days valid

Number of days after creation that the certificate expires. Add key usage extensions