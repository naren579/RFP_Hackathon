You can change the network configuration of one or more nodes using the Change IP tool. You can change the configuration of the Grid Network, or add, change, or remove the Admin or Client Networks.

Before you begin

You have the Passwords.txt file. About this task

Linux: If you are adding a grid node to the Admin Network or Client Network for the first time, and you did not previously configure ADMIN_NETWORK_TARGET or CLIENT_NETWORK_TARGET in the node configuration file, you must do so now.

See the StorageGRID installation instructions for your Linux operating system:

1513

• Install StorageGRID on Red Hat Enterprise Linux

Install StorageGRID on Ubuntu or Debian You can’t change the Client Network IP address to the value of an existing virtual IP address assigned to an HA group configured on the Client Network interface.

If a Grid network interface is contained in an HA group, you can’t change the Grid network IP address for that interface to an address that is outside of the subnet configured for the HA group.

You can’t change the Grid Network IP address to the value of an existing virtual IP address assigned to an HA group configured on the Grid Network interface. Change node network configuration

You can change the network configuration of one or more nodes using the Change IP tool. You can change the configuration of the Grid Network, or add, change, or remove the Admin or Client Networks.

Before you begin

You have the Passwords.txt file. About this task

Linux: If you are adding a grid node to the Admin Network or Client Network for the first time, and you did not previously configure ADMIN_NETWORK_TARGET or CLIENT_NETWORK_TARGET in the node configuration file, you must do so now.

See the StorageGRID installation instructions for your Linux operating system:

1513

• Install StorageGRID on Red Hat Enterprise Linux

Install StorageGRID on Ubuntu or Debian

Appliances: On StorageGRID appliances, if the Client or Admin Network was not configured in the StorageGRID Appliance Installer during the initial installation, the network can’t be added by using only the Change IP tool. First, you must place the appliance in maintenance mode, configure the links, return the appliance to normal operating mode, and then use the Change IP tool to modify the network configuration. See the procedure for configuring network links.

You can change the IP address, subnet mask, gateway, or MTU value for one or more nodes on any network. You can also add or remove a node from a Client Network or from an Admin Network:

You can add a node to a Client Network or to an Admin Network by adding an IP address/subnet mask on that network to the node.

You can remove a node from a Client Network or from an Admin Network by deleting the IP address/subnet mask for the node on that network.

Nodes can’t be removed from the Grid Network.

IP address swaps aren’t allowed. If you must exchange IP addresses between grid nodes, you must use a temporary intermediate IP address. If single sign-on (SSO) is enabled for your StorageGRID system and you are changing the IP address of an Admin Node, be aware that any relying party trust that was configured using the Admin Node’s IP address (instead of its fully qualified domain name, as recommended) will become invalid. You will no longer be able to sign in to the node. Immediately after changing the IP address, you must update or reconfigure the node’s relying party trust in Active Directory Federation Services (AD FS) with the new IP address. See the instructions for configuring SSO.

Any changes you make to the network using the Change IP tool are propagated to the installer firmware for the StorageGRID appliances. That way, if StorageGRID software is reinstalled on an appliance, or if an appliance is placed into maintenance mode, the networking configuration will be correct. Steps

1. Log in to the primary Admin Node: a. Enter the following command: ssh admin@primary_Admin_Node_IP

b. Enter the password listed in the Passwords.txt file.

c. Enter the following command to switch to root: su -

d. Enter the password listed in the Passwords.txt file.

When you are logged in as root, the prompt changes from $ to #.

2. Start the Change IP tool by entering the following command: change-ip

3. Enter the provisioning passphrase at the prompt.

The main menu appears.

1514

4. Optionally select 1 to choose which nodes to update. Then select one of the following options:

1: Single node — select by name ◦ 2: Single node — select by site, then by name ◦ 3: Single node — select by current IP ◦ 4: All nodes at a site ◦ 5: All nodes in the grid

Note: If you want to update all nodes, allow "all" to remain selected. 1. Log in to the primary Admin Node: a. Enter the following command: ssh admin@primary_Admin_Node_IP

b. Enter the password listed in the Passwords.txt file.

c. Enter the following command to switch to root: su -

d. Enter the password listed in the Passwords.txt file.