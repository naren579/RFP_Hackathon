c. Enter the following command to switch to root: su -

d. Enter the password listed in the Passwords.txt file.

When you are logged in as root, the prompt changes from $ to #.

3. Start the Change IP tool by entering the following command: change-ip

4. Enter the provisioning passphrase at the prompt.

The main menu appears. By default, the Selected nodes field is set to all.

5. On the main menu, select 2 to edit IP/subnet mask, gateway, and MTU information for all the nodes.

a. Select 1 to make changes to the Grid Network.

After you make your selection, the prompt shows the node names, Grid Network name, data type (IP/mask, Gateway, or MTU), and current values.

Editing the IP address, prefix length, gateway, or MTU of a DHCP-configured interface will change the interface to static. A warning is displayed before each interface configured by DHCP. Interfaces configured as fixed can’t be edited.

b. To set a new value, enter it in the format shown for the current value.

c. After editing all nodes you want to change, enter q to return to the main menu.

Your changes are held until cleared or applied.

6. Review your changes by selecting one of the following options:

5: Shows edits in output that is isolated to show only the changed item. Changes are highlighted in green (additions) or red (deletions), as shown in the example output:

1526

6: Shows edits in output that displays the full configuration. Changes are highlighted in green (additions) or red (deletions).

Certain command line interfaces might show additions and deletions using strikethrough formatting. Proper display depends on your terminal client supporting the necessary VT100 escape sequences.

7. Select option 7 to validate all changes.

This validation ensures that the rules for the Grid Network, such as not using overlapping subnets, aren’t violated. In this example, validation returned errors.

In this example, validation passed.

1527

8. After validation passes, select 10 to apply the new network configuration.

9. Select stage to apply the changes the next time the nodes are restarted.

You must select stage. Don’t perform a rolling restart, either manually or by selecting apply instead of stage; the grid will not start up successfully.

10. After your changes are complete, select 0 to exit the Change IP tool.

11. Shut down all nodes simultaneously.

The entire grid must be shut down, so that all nodes are down at the same time.

12. Make the physical or virtual networking changes that are required.

13. Verify that all grid nodes are down.

14. Power on all nodes.

15. After the grid starts up successfully:

a. If you added new NTP servers, delete the old NTP server values.

b. If you added new DNS servers, delete the old DNS server values.

16. Download the new Recovery Package from the Grid Manager. a. Select MAINTENANCE > System > Recovery package. b. Enter the provisioning passphrase.

Related information

Add to or change subnet lists on Grid Network

Shut down grid node

Add interfaces to existing node

Linux: Add Admin or Client interfaces to an existing node

Use these steps to add an interface on the Admin Network or the Client Network to a Linux node after it has been installed.

If you did not configure ADMIN_NETWORK_TARGET or CLIENT_NETWORK_TARGET in the node configuration file on the Linux host during installation, use this procedure to add the interface. For more information about the node configuration file, see the instructions for your Linux operating system:

Install StorageGRID on Red Hat Enterprise Linux

Install StorageGRID on Ubuntu or Debian

You perform this procedure on the Linux server hosting the node that needs the new network assignment, not inside the node. This procedure only adds the interface to the node; a validation error occurs if you attempt to specify any other network parameters. To provide addressing information, you must use the Change IP tool. See Change node network configuration.

Steps a. If you added new NTP servers, delete the old NTP server values.

b. If you added new DNS servers, delete the old DNS server values.

16. Download the new Recovery Package from the Grid Manager. a. Select MAINTENANCE > System > Recovery package. b. Enter the provisioning passphrase.

Related information

Add to or change subnet lists on Grid Network

Shut down grid node

Add interfaces to existing node

Linux: Add Admin or Client interfaces to an existing node

Use these steps to add an interface on the Admin Network or the Client Network to a Linux node after it has been installed.

If you did not configure ADMIN_NETWORK_TARGET or CLIENT_NETWORK_TARGET in the node configuration file on the Linux host during installation, use this procedure to add the interface. For more information about the node configuration file, see the instructions for your Linux operating system:

Install StorageGRID on Red Hat Enterprise Linux

Install StorageGRID on Ubuntu or Debian