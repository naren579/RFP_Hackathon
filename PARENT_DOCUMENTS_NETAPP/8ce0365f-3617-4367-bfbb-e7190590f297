i. Enter the following command: ssh admin@grid_node_IP

ii. Enter the password listed in the Passwords.txt file.

iii. Enter the following command to switch to root: su -

iv. Enter the password listed in the Passwords.txt file.

When you are logged in as root, the prompt changes from $ to #. b. Enter: cat /var/local/log/servermanager.log

The contents of the servermanager.log file are displayed.

If Cassandra has been down for longer than 15 days, the following message is displayed in the servermanager.log file: a. Select SUPPORT > Tools > Grid topology. Then select Site > Storage Node > SSM > Services > Reports > Charts.

b. Select Attribute > Service: Status - Cassandra.

c. For Start Date, enter a date that is at least 16 days before the current date. For End Date, enter the

current date.

d. Click Update.

e. If the chart shows Cassandra as being down for more than 15 days, rebuild the Cassandra database.

The following chart example shows that Cassandra has been down for at least 17 days.

1287

6. To review the servermanager.log file on the Storage Node: a. Log in to the grid node:

i. Enter the following command: ssh admin@grid_node_IP

ii. Enter the password listed in the Passwords.txt file.

iii. Enter the following command to switch to root: su -

iv. Enter the password listed in the Passwords.txt file.

When you are logged in as root, the prompt changes from $ to #. b. Enter: cat /var/local/log/servermanager.log

The contents of the servermanager.log file are displayed.

If Cassandra has been down for longer than 15 days, the following message is displayed in the servermanager.log file:

"2014-08-14 21:01:35 +0000 | cassandra | cassandra not started because it has been offline for longer than its 15 day grace period - rebuild cassandra

c. Make sure the timestamp of this message is the time when you attempted restarting Cassandra as

instructed in step Restart Cassandra from the Storage Node.

There can be more than one entry for Cassandra; you must locate the most recent entry.

1288

d. If Cassandra has been down for longer than 15 days, you must rebuild the Cassandra database.

For instructions, see Recover Storage Node down more than 15 days.

e. Contact technical support if alarms donâ€™t clear after Cassandra is rebuilt. Cassandra Out of Memory errors (SMTT alarm)

A Total Events (SMTT) alarm is triggered when the Cassandra database has an out-of-memory error. If this error occurs, contact technical support to work through the issue.

About this task

If an out-of-memory error occurs for the Cassandra database, a heap dump is created, a Total Events (SMTT) alarm is triggered, and the Cassandra Heap Out Of Memory Errors count is incremented by one. Steps

1. To view the event, select SUPPORT > Tools > Grid topology > Configuration.

2. Verify that the Cassandra Heap Out Of Memory Errors count is 1 or greater.

You can run diagnostics to obtain additional information about the current state of your grid.

3. Go to /var/local/core/, compress the Cassandra.hprof file, and send it to technical support.

4. Make a backup of the Cassandra.hprof file, and delete it from the /var/local/core/ directory.

This file can be as large as 24 GB, so you should remove it to free up space.

5. After the issue is resolved, select the Reset checkbox for the Cassandra Heap Out Of Memory Errors count. Then select Apply Changes.

To reset event counts, you must have the Grid topology page configuration permission. Troubleshoot certificate errors

If you see a security or certificate issue when you try to connect to StorageGRID using a web browser, an S3 or Swift client, or an external monitoring tool, you should check the certificate. About this task

Certificate errors can cause problems when you try to connect to StorageGRID using the Grid Manager, Grid Management API, Tenant Manager, or the Tenant Management API. Certificate errors can also occur when you try to connect with an S3 or Swift client or external monitoring tool.

If you are accessing the Grid Manager or Tenant Manager using a domain name instead of an IP address, the browser shows a certificate error without an option to bypass if either of the following occurs:

Your custom management interface certificate expires.

You revert from a custom management interface certificate to the default server certificate.

The following example shows a certificate error when the custom management interface certificate expired:

1289 4. Make a backup of the Cassandra.hprof file, and delete it from the /var/local/core/ directory.

This file can be as large as 24 GB, so you should remove it to free up space.

5. After the issue is resolved, select the Reset checkbox for the Cassandra Heap Out Of Memory Errors count. Then select Apply Changes.

To reset event counts, you must have the Grid topology page configuration permission. Troubleshoot certificate errors