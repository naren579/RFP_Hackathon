Results will differ for each installation.

92

Assign friendly names to each of these block storage volumes to simplify the initial StorageGRID installation and future maintenance procedures. If you are using the device mapper multipath driver for redundant access to shared storage volumes, you can use the alias field in your /etc/multipath.conf file. For example: Results will differ for each installation.

92

Assign friendly names to each of these block storage volumes to simplify the initial StorageGRID installation and future maintenance procedures. If you are using the device mapper multipath driver for redundant access to shared storage volumes, you can use the alias field in your /etc/multipath.conf file. For example:

multipaths { multipath { wwid 3600a09800059d6df00005df2573c2c30 alias docker-storage-volume-hostA } multipath { wwid 3600a09800059d6df00005df3573c2c30 alias sgws-adm1-var-local } multipath { wwid 3600a09800059d6df00005df4573c2c30 alias sgws-adm1-audit-logs } multipath { wwid 3600a09800059d6df00005df5573c2c30 alias sgws-adm1-tables } multipath { wwid 3600a09800059d6df00005df6573c2c30 alias sgws-gw1-var-local } multipath { wwid 3600a09800059d6df00005df7573c2c30 alias sgws-sn1-var-local } multipath { wwid 3600a09800059d6df00005df7573c2c30 alias sgws-sn1-rangedb-0 } â€¦

This will cause the aliases to appear as block devices in the /dev/mapper directory on the host, allowing you to specify a friendly, easily-validated name whenever a configuration or maintenance operation requires specifying a block storage volume. If you are setting up shared storage to support StorageGRID node migration and using Device Mapper Multipathing, you can create and install a common /etc/multipath.conf on all co- located hosts. Just make sure to use a different container engine storage volume on each host. Using aliases and including the target hostname in the alias for each container engine storage volume LUN will make this easy to remember and is recommended.

93

Related information Configure container engine storage volume

Configure container engine storage volume

Before installing the container engine (Docker or Podman), you might need to format the storage volume and mount it.

About this task

You can skip these steps if you plan to use local storage for the Docker or Podman storage volume and have sufficient space available on the host partition containing /var/lib/docker for Docker and /var/lib/containers for Podman. Podman is supported only on Red Hat Enterprise Linux (RHEL).

Steps

1. Create a file system on the container engine storage volume:

sudo mkfs.ext4 container-engine-storage-volume-device

2. Mount the container engine storage volume:

For Docker:

sudo mkdir -p /var/lib/docker sudo mount container-storage-volume-device /var/lib/docker

For Podman:

sudo mkdir -p /var/lib/containers sudo mount container-storage-volume-device /var/lib/containers

3. Add an entry for container-storage-volume-device to /etc/fstab.

This step ensures that the storage volume will remount automatically after host reboots. Install Docker

The StorageGRID system runs on Red Hat Enterprise Linux as a collection of containers. If you have chosen to use the Docker container engine, follow these steps to install Docker. Otherwise, install Podman.

Steps

1. Install Docker by following the instructions for your Linux distribution.

If Docker is not included with your Linux distribution, you can download it from the Docker website.

94

2. Ensure Docker has been enabled and started by running the following two commands: sudo systemctl enable docker

sudo systemctl start docker

3. Confirm you have installed the expected version of Docker by entering the following:

sudo docker version

The Client and Server versions must be 1.11.0 or later.

Install Podman

The StorageGRID system runs on Red Hat Enterprise Linux as a collection of containers. If you have chosen to use the Podman container engine, follow these steps to install Podman. Otherwise, install Docker. Podman is supported only on Red Hat Enterprise Linux (RHEL).

Steps

1. Install Podman and Podman-Docker by following the instructions for your Linux distribution. 3. Add an entry for container-storage-volume-device to /etc/fstab.

This step ensures that the storage volume will remount automatically after host reboots. Install Docker

The StorageGRID system runs on Red Hat Enterprise Linux as a collection of containers. If you have chosen to use the Docker container engine, follow these steps to install Docker. Otherwise, install Podman.

Steps

1. Install Docker by following the instructions for your Linux distribution.

If Docker is not included with your Linux distribution, you can download it from the Docker website.

94

2. Ensure Docker has been enabled and started by running the following two commands: sudo systemctl enable docker

sudo systemctl start docker

3. Confirm you have installed the expected version of Docker by entering the following: