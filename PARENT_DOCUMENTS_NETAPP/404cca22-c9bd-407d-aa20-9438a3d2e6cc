▪ Scan Period — Estimated (XSCM): Use this attribute to estimate when a policy change will be applied to previously ingested objects. If the Repairs Attempted attribute does not increase for a period longer than the current scan period, it is probable that replicated repairs are done. Note that the scan period can change. The Scan Period — Estimated (XSCM) attribute applies to the entire grid and is the maximum of all node scan periods. You can query the Scan Period — Estimated attribute history for the grid to determine an appropriate time frame. Erasure-coded (EC) data Cassandra inconsistencies might be present, and failed repairs aren’t tracked.

▪ Repairs Attempted (XRPA): Use this attribute to track the progress of replicated repairs. This attribute increases each time a Storage Node tries to repair a high-risk object. When this attribute does not increase for a period longer than the current scan period (provided by the Scan Period — Estimated attribute), it means that ILM scanning found no high-risk objects that need to be repaired on any nodes.

High-risk objects are objects that are at risk of being completely lost. This does not include objects that don’t satisfy their ILM configuration.

▪ Scan Period — Estimated (XSCM): Use this attribute to estimate when a policy change will be applied to previously ingested objects. If the Repairs Attempted attribute does not increase for a period longer than the current scan period, it is probable that replicated repairs are done. Note that the scan period can change. The Scan Period — Estimated (XSCM) attribute applies to the entire grid and is the maximum of all node scan periods. You can query the Scan Period — Estimated attribute history for the grid to determine an appropriate time frame. Erasure-coded (EC) data

To monitor the repair of erasure-coded data and retry any requests that might have failed:

1. Determine the status of erasure-coded data repairs:

Select SUPPORT > Tools > Metrics to view the estimated time to completion and the completion percentage for the current job. Then, select EC Overview in the Grafana section. Look at the Grid EC Job Estimated Time to Completion and Grid EC Job Percentage Completed dashboards.

Use this command to see the status of a specific repair-data operation: repair-data show-ec-repair-status --repair-id repair ID

Use this command to list all repairs:

1577

repair-data show-ec-repair-status

The output lists information, including repair ID, for all previously and currently running repairs.

2. If the output shows that the repair operation failed, use the --repair-id option to retry the repair.

This command retries a failed node repair, using the repair ID 6949309319275667690: repair-data start-ec-node-repair --repair-id 6949309319275667690

This command retries a failed volume repair, using the repair ID 6949309319275667690:

repair-data start-ec-volume-repair --repair-id 6949309319275667690

Check storage state after recovering appliance Storage Node

After recovering an appliance Storage Node, you must verify that the desired state of the appliance Storage Node is set to online and ensure that the state will be online by default whenever the Storage Node server is restarted.

Before you begin

You are signed in to the Grid Manager using a supported web browser.

The Storage Node has been recovered, and data recovery is complete. Steps

1. Select SUPPORT > Tools > Grid topology. 2. Check the values of Recovered Storage Node > LDR > Storage > Storage State — Desired and Storage State — Current.

The value of both attributes should be Online.

3. If the Storage State — Desired is set to Read-only, complete the following steps:

a. Click the Configuration tab. b. From the Storage State — Desired drop-down list, select Online.

c. Click Apply Changes. d. Click the Overview tab and confirm that the values of Storage State — Desired and Storage

State — Current are updated to Online.

Recover from storage volume failure where system drive is intact

Recover from storage volume failure where system drive is intact: Overview

You must complete a series of tasks to recover a software-based Storage Node where one or more storage volumes on the Storage Node have failed, but the system drive is intact. If only storage volumes have failed, the Storage Node is still available to the StorageGRID system. 1578

This recovery procedure applies to software-based Storage Nodes only. If storage volumes have failed on an appliance Storage Node, use the appliance procedure instead: Recover appliance Storage Node.

This recovery procedure includes the following tasks:

Review warnings for storage volume recovery

Identify and unmount failed storage volumes

Recover the volumes and rebuild the Cassandra database

Restore object data The value of both attributes should be Online.

3. If the Storage State — Desired is set to Read-only, complete the following steps: