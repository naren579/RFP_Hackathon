Before you begin

You are signed in to the Grid Manager using a supported web browser.

You have the Manage alerts or Root access permission.

Optionally, you have watched the video: Video: Alerts overview for StorageGRID 11.8 Steps

1. Select ALERTS > Rules.

The Alert Rules page appears.

1084

2. Review the information in the alert rules table:

Column header

Description

Name

The unique name and description of the alert rule. Custom alert rules are listed first, followed by default alert rules. The alert rule name is the subject for email notifications. Conditions

The Prometheus expressions that determine when this alert is triggered. An alert can be triggered at one or more of the following severity levels, but a condition for each severity is not required.

Critical operations of a StorageGRID node or service. You must address the underlying issue immediately. Service disruption and loss of data might result if the issue is not resolved.

: An abnormal condition exists that has stopped the normal

Major : An abnormal condition exists that is either affecting current operations or approaching the threshold for a critical alert. You should investigate major alerts and address any underlying issues to ensure that the abnormal condition does not stop the normal operation of a StorageGRID node or service. Minor : The system is operating normally, but an abnormal condition exists that could affect the system’s ability to operate if it continues. You should monitor and resolve minor alerts that don’t clear on their own to ensure they don’t result in a more serious problem.

1085

Column header

Description Type

The type of alert rule:

Default: An alert rule provided with the system. You can disable a default alert rule or edit the conditions and duration for a default alert rule. You can’t remove a default alert rule.

Default*: A default alert rule that includes an edited condition or duration. As required, you can easily revert a modified condition back to the original default.

Custom: An alert rule that you created. You can disable, edit, and remove custom alert rules. Status

Whether this alert rule is currently enabled or disabled. The conditions for disabled alert rules aren’t evaluated, so no alerts are triggered.

Create custom alert rules

You can create custom alert rules to define your own conditions for triggering alerts.

Before you begin

You are signed in to the Grid Manager using a supported web browser.

You have the Manage alerts or Root access permission.

You are familiar with the commonly used Prometheus metrics.

You understand the syntax of Prometheus queries.

Optionally, you have watched the video: Video: Using metrics to create custom alerts in StorageGRID 11.8. About this task

StorageGRID does not validate custom alerts. If you decide to create custom alert rules, follow these general guidelines:

Look at the conditions for the default alert rules, and use them as examples for your custom alert rules.

If you define more than one condition for an alert rule, use the same expression for all conditions. Then, change the threshold value for each condition.

Carefully check each condition for typos and logic errors.

Use only the metrics listed in the Grid Management API.

1086

When testing an expression using the Grid Management API, be aware that a "successful" response might be an empty response body (no alert triggered). To see if the alert is actually triggered, you can temporarily set a threshold to a value you expect to be true currently. For example, to test the expression node_memory_MemTotal_bytes < 24000000000, first execute node_memory_MemTotal_bytes >= 0 and ensure you get the expected results (all nodes return a value). Then, change the operator and the threshold back to the intended values and execute again. No results indicate there are no current alerts for this expression.

Don’t assume a custom alert is working unless you have validated that the alert is triggered when expected. Steps

1. Select ALERTS > Rules.

The Alert Rules page appears.

2. Select Create custom rule. StorageGRID does not validate custom alerts. If you decide to create custom alert rules, follow these general guidelines:

Look at the conditions for the default alert rules, and use them as examples for your custom alert rules.

If you define more than one condition for an alert rule, use the same expression for all conditions. Then, change the threshold value for each condition.

Carefully check each condition for typos and logic errors.

Use only the metrics listed in the Grid Management API.

1086