Username: The full path of the distinguished name (DN) for the user that will connect to the LDAP server.

For Active Directory, you can also specify the Down-Level Logon Name or the User Principal Name.

The specified user must have permission to list groups and users and to access the following attributes:

▪ sAMAccountName or uid ▪ objectGUID, entryUUID, or nsuniqueid ▪ cn ▪ memberOf or isMemberOf ▪ Active Directory: objectSid, primaryGroupID, userAccountControl, and userPrincipalName

▪ Azure: accountEnabled and userPrincipalName ◦ Password: The password associated with the username.

If you change the password in the future, you must update it on this page.

Group Base DN: The full path of the distinguished name (DN) for an LDAP subtree you want to search for groups. In the Active Directory example (below), all groups whose Distinguished Name is relative to the base DN (DC=storagegrid,DC=example,DC=com) can be used as federated groups.

The Group unique name values must be unique within the Group Base DN they belong to.

User Base DN: The full path of the distinguished name (DN) of an LDAP subtree you want to search for users.

784

The User unique name values must be unique within the User Base DN they belong to.

Bind username format (optional): The default username pattern StorageGRID should use if the pattern can’t be determined automatically. Providing Bind username format is recommended because it can allow users to sign in if StorageGRID is unable to bind with the service account. Enter one of these patterns:

▪ UserPrincipalName pattern (Active Directory and Azure): [USERNAME]@example.com ▪ Down-level logon name pattern (Active Directory and Azure): example\[USERNAME] ▪ Distinguished name pattern: CN=[USERNAME],CN=Users,DC=example,DC=com

Include [USERNAME] exactly as written.

6. In the Transport Layer Security (TLS) section, select a security setting.

Use STARTTLS: Use STARTTLS to secure communications with the LDAP server. This is the recommended option for Active Directory, OpenLDAP, or Other, but this option is not supported for Azure.

Use LDAPS: The LDAPS (LDAP over SSL) option uses TLS to establish a connection to the LDAP server. You must select this option for Azure.

Do not use TLS: The network traffic between the StorageGRID system and the LDAP server will not be secured. This option is not supported for Azure.

Using the Do not use TLS option is not supported if your Active Directory server enforces LDAP signing. You must use STARTTLS or LDAPS. 7. If you selected STARTTLS or LDAPS, choose the certificate used to secure the connection.

Use operating system CA certificate: Use the default Grid CA certificate installed on the operating system to secure connections.

Use custom CA certificate: Use a custom security certificate.

If you select this setting, copy and paste the custom security certificate into the CA certificate text box.

Test the connection and save the configuration Include [USERNAME] exactly as written.

6. In the Transport Layer Security (TLS) section, select a security setting.

Use STARTTLS: Use STARTTLS to secure communications with the LDAP server. This is the recommended option for Active Directory, OpenLDAP, or Other, but this option is not supported for Azure.

Use LDAPS: The LDAPS (LDAP over SSL) option uses TLS to establish a connection to the LDAP server. You must select this option for Azure.

Do not use TLS: The network traffic between the StorageGRID system and the LDAP server will not be secured. This option is not supported for Azure.

Using the Do not use TLS option is not supported if your Active Directory server enforces LDAP signing. You must use STARTTLS or LDAPS. 7. If you selected STARTTLS or LDAPS, choose the certificate used to secure the connection.

Use operating system CA certificate: Use the default Grid CA certificate installed on the operating system to secure connections.

Use custom CA certificate: Use a custom security certificate.

If you select this setting, copy and paste the custom security certificate into the CA certificate text box.

Test the connection and save the configuration

After entering all values, you must test the connection before you can save the configuration. StorageGRID verifies the connection settings for the LDAP server and the bind username format, if you provided one. Steps

1. Select Test connection.

2. If you did not provide a bind username format:

A "Test connection successful" message appears if the connection settings are valid. Select Save to save the configuration.

A "test connection could not be established" message appears if the connection settings are invalid. Select Close. Then, resolve any issues and test the connection again.

785

3. If you provided a bind username format, enter the username and password of a valid federated user.

For example, enter your own username and password. Don’t include any special characters in the username, such as @ or /.