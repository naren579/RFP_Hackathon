All VLAN interfaces you selected are removed. A green success banner appears on the VLAN interfaces page. Manage traffic classification policies Manage traffic classification policies: Overview

To enhance your quality-of-service (QoS) offerings, you can create traffic classification policies to identify and monitor different types of network traffic. These policies can assist with traffic limiting and monitoring.

Traffic classification policies are applied to endpoints on the StorageGRID Load Balancer service for Gateway Nodes and Admin Nodes. To create traffic classification policies, you must have already created load balancer endpoints.

Matching rules

Each traffic classification policy contains one or more matching rules to identify the network traffic related to one or more of the following entities:

Buckets

Subnet

Tenant

Load balancer endpoints

StorageGRID monitors traffic that matches any rule within the policy according to the objectives of the rule. Any traffic that matches any rule for a policy is handled by that policy. Conversely, you can set rules to match all traffic except a specified entity. Traffic limiting 1. Select CONFIGURATION > Network > VLAN interfaces.

2. Select the checkbox for each VLAN interface you want to remove. Then, select Actions > Delete.

3. Select Yes to confirm your selection.

All VLAN interfaces you selected are removed. A green success banner appears on the VLAN interfaces page. Manage traffic classification policies Manage traffic classification policies: Overview

To enhance your quality-of-service (QoS) offerings, you can create traffic classification policies to identify and monitor different types of network traffic. These policies can assist with traffic limiting and monitoring.

Traffic classification policies are applied to endpoints on the StorageGRID Load Balancer service for Gateway Nodes and Admin Nodes. To create traffic classification policies, you must have already created load balancer endpoints.

Matching rules

Each traffic classification policy contains one or more matching rules to identify the network traffic related to one or more of the following entities:

Buckets

Subnet

Tenant

Load balancer endpoints

StorageGRID monitors traffic that matches any rule within the policy according to the objectives of the rule. Any traffic that matches any rule for a policy is handled by that policy. Conversely, you can set rules to match all traffic except a specified entity. Traffic limiting

Optionally, you can add the following limit types to a policy:

Aggregate bandwidth

Per-request bandwidth

Concurrent requests

519

• Request rate

Limit values are enforced on a per load balancer basis. If traffic is distributed simultaneously across multiple load balancers, the total maximum rates are a multiple of the rate limits you specify.

You can create policies to limit aggregate bandwidth or to limit per-request bandwidth. However, StorageGRID can’t limit both types of bandwidth at the same time. Aggregate bandwidth limits might impose an additional minor performance impact on non-limited traffic. For aggregate or per-request bandwidth limits, the requests stream in or out at the rate you set. StorageGRID can only enforce one speed, so the most specific policy match, by matcher type, is the one enforced. The bandwidth consumed by the the request does not count against other less specific matching policies containing aggregate bandwidth limit policies. For all other limit types, client requests are delayed by 250 milliseconds and receive a 503 Slow Down response for requests that exceed any matching policy limit.

In the Grid Manager, you can view traffic charts and verify that the polices are enforcing the traffic limits you expect. Use traffic classification policies with SLAs

You can use traffic classification policies in conjunction with capacity limits and data protection to enforce service-level agreements (SLAs) that provide specifics for capacity, data protection, and performance.

The following example shows three tiers of an SLA. You can create traffic classification policies to achieve the performance objectives of each SLA tier. Service Level Tier Capacity

Data Protection

Maximum performance allowed

Cost

Gold

1 PB storage allowed

3 copy ILM rule

25 K requests/sec

$$$ per month

5 GB/sec (40 Gbps) bandwidth

Silver

250 TB storage allowed

2 copy ILM rule

10 K requests/sec

$$ per month

1.25 GB/sec (10 Gbps) bandwidth Bronze

100 TB storage allowed

2 copy ILM rule

5 K requests/sec

$ per month

1 GB/sec (8 Gbps) bandwidth

Create traffic classification policies

You can create traffic classification policies if you want to monitor, and optionally limit network traffic by bucket, bucket regex, CIDR, load balancer endpoint, or tenant. Optionally, you can set limits for a policy based on bandwidth, the number of concurrent requests, or the request rate.

520

Before you begin