3. When you create a management interface load balancer endpoint, enter port and select the management interface that the port will access.

4. Select Yes for Untrusted Client Network.

5. Use the Manage external access tab to block all external ports (with or without privileged IP addresses set for hosts outside that subnet).

After you save your configuration, only hosts on the subnet you specified can access the Grid Manager. All other hosts are are blocked. Configure internal firewall

You can configure the StorageGRID firewall to control network access to specific ports on your StorageGRID nodes.

Before you begin

You are signed in to the Grid Manager using a supported web browser.

You have specific access permissions.

You have reviewed the information in Manage firewall controls and Networking guidelines.

450

• If you want an Admin Node or Gateway Node to accept inbound traffic only on explicitly configured

endpoints, you have defined the load balancer endpoints.

When changing the configuration of the Client Network, existing client connections might fail if load balancer endpoints have not been configured. About this task

StorageGRID includes an internal firewall on each node that enables you to open or close some of the ports on the nodes of your grid. You can use the Firewall control tabs to open or close ports that are open by default on the Grid Network, Admin Network, and Client Network. You can also create a list of privileged IP addresses that can access grid ports that are closed. If you are using a Client Network, you can specify whether a node trusts inbound traffic from the Client Network, and you can configure the access of specific ports on the Client Network.

Limiting the number of ports open to IP addresses outside of your grid to only those that are absolutely necessary enhances the security of your grid. You use the settings on each of the three Firewall control tabs to ensure only the needed ports are open.

For more information about using firewall controls, including examples, see Manage firewall controls. For more information about external firewalls and network security, see Control access at external firewall.

Access firewall controls

Steps

1. Select CONFIGURATION > Security > Firewall control.

The three tabs on this page are described in Manage firewall controls.

2. Select any tab to configure the firewall controls.

You can use these tabs in any order. The configurations you set on one tab don’t limit what you can do on the other tabs; however, configuration changes you make on one tab might change the behavior of ports configured on other tabs. Privileged address list

You use the Privileged address list tab to grant hosts access to ports that are closed by default or closed by settings on the Manage external access tab.

Privileged IP addresses and subnets don’t have internal grid access by default. Also, load balancer endpoints and additional ports opened in the Privileged address list tab are accessible even if blocked in the Manage external access tab.

Settings on the Privileged address list tab can’t override settings on the Untrusted Client Network tab. Steps

1. On the Privileged address list tab, enter the address or IP subnet you want to grant access to closed ports.

2. Optionally, select Add another IP address or subnet in CIDR notation to add additional privileged clients. Access firewall controls

Steps

1. Select CONFIGURATION > Security > Firewall control.

The three tabs on this page are described in Manage firewall controls.

2. Select any tab to configure the firewall controls.

You can use these tabs in any order. The configurations you set on one tab don’t limit what you can do on the other tabs; however, configuration changes you make on one tab might change the behavior of ports configured on other tabs. Privileged address list

You use the Privileged address list tab to grant hosts access to ports that are closed by default or closed by settings on the Manage external access tab.

Privileged IP addresses and subnets don’t have internal grid access by default. Also, load balancer endpoints and additional ports opened in the Privileged address list tab are accessible even if blocked in the Manage external access tab.

Settings on the Privileged address list tab can’t override settings on the Untrusted Client Network tab. Steps

1. On the Privileged address list tab, enter the address or IP subnet you want to grant access to closed ports.

2. Optionally, select Add another IP address or subnet in CIDR notation to add additional privileged clients.

451

Add as few addresses as possible to the privileged list.

3. Optionally, select Allow privileged IP addresses to access StorageGRID internal ports. See StorageGRID internal ports.

This option removes some protections for internal services. Leave it disabled if possible.

4. Select Save. Manage external access