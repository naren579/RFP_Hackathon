b. For Server CA certificate, select Browse, and upload the PEM-encoded CA certificate that

StorageGRID will use to verify the CAP server.

c. For Client certificate, select Browse, and upload the PEM-encoded certificate that StorageGRID

will use to identify itself to the CAP server.

d. For Client private key, select Browse, and upload the PEM-encoded private key for the client certificate.

e. If the client private key is encrypted, enter the passphrase for decrypting the client private key.

Otherwise, leave the Client private key passphrase field blank.

Azure Blob Storage

a. For Account name, enter the name of the Blob storage account that owns the external service

container.

b. For Account key, enter the secret key for the Blob storage account. Anonymous

No additional information is required.

5. Select Continue. Then choose the type of server verification you want to use:

Option

Description

Use root CA certificates in Storage Node OS

Use the Grid CA certificates installed on the operating system to secure connections. Use custom CA certificate a. For Temporary credentials URL, enter the complete URL that StorageGRID will use to obtain

temporary credentials from the CAP server, including all the required and optional API parameters assigned to your C2S account.

b. For Server CA certificate, select Browse, and upload the PEM-encoded CA certificate that

StorageGRID will use to verify the CAP server.

c. For Client certificate, select Browse, and upload the PEM-encoded certificate that StorageGRID

will use to identify itself to the CAP server.

d. For Client private key, select Browse, and upload the PEM-encoded private key for the client certificate.

e. If the client private key is encrypted, enter the passphrase for decrypting the client private key.

Otherwise, leave the Client private key passphrase field blank.

Azure Blob Storage

a. For Account name, enter the name of the Blob storage account that owns the external service

container.

b. For Account key, enter the secret key for the Blob storage account. Anonymous

No additional information is required.

5. Select Continue. Then choose the type of server verification you want to use:

Option

Description

Use root CA certificates in Storage Node OS

Use the Grid CA certificates installed on the operating system to secure connections. Use custom CA certificate

Use a custom CA certificate. Select Browse, and upload the PEM- encoded certificate.

Do not verify certificate

The certificate used for the TLS connection is not verified.

6. Select Save.

When you save a Cloud Storage Pool, StorageGRID does the following:

Validates that the bucket or container and the service endpoint exist and that they can be reached using the credentials that you specified.

641

◦ Writes a marker file to the bucket or container to identify it as a Cloud Storage Pool. Never remove this

file, which is named x-ntap-sgws-cloud-pool-uuid.

If Cloud Storage Pool validation fails, you receive an error message that explains why validation failed. For example, an error might be reported if there is a certificate error or if the bucket or container you specified does not already exist.

7. If an error occurs, see the instructions for troubleshooting Cloud Storage Pools, resolve any issues, and then try saving the Cloud Storage Pool again. Edit a Cloud Storage Pool

You can edit a Cloud Storage Pool to change its name, service endpoint, or other details; however, you can’t change the S3 bucket or Azure container for a Cloud Storage Pool.

Before you begin

You are signed in to the Grid Manager using a supported web browser.

You have specific access permissions.

You have reviewed the considerations for Cloud Storage Pools. Steps

1. Select ILM > Storage pools > Cloud Storage Pools.

The Cloud Storage Pools table lists the existing Cloud Storage Pools.

2. Select the checkbox for the Cloud Storage Pool you want to edit.

3. Select Actions > Edit.

4. As required, change the display name, service endpoint, authentication credentials, or certificate validation method.

You can’t change the provider type or the S3 bucket or Azure container for a Cloud Storage Pool.

If you previously uploaded a server or client certificate, you can select Certificate details to review the certificate that is currently in use.

5. Select Save.

When you save a Cloud Storage Pool, StorageGRID validates that the bucket or container and the service endpoint exist, and that they can be reached using the credentials that you specified.

If Cloud Storage Pool validation fails, an error message is displayed. For example, an error might be reported if there is a certificate error. See the instructions for troubleshooting Cloud Storage Pools, resolve the issue, and then try saving the Cloud Storage Pool again.

Remove a Cloud Storage Pool

You can remove a Cloud Storage Pool if it not used in an ILM rule and it does not contain object data.

642

Before you begin