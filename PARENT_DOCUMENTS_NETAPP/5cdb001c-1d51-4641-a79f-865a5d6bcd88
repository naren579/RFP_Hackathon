Your StorageGRID system is installed and configured when a confirmation message is displayed.

163

StorageGRID has been configured and installed.

Related information Overview of the installation REST API

Deploy virtual grid nodes (Ubuntu or Debian)

Create node configuration files for Ubuntu or Debian deployments

Node configuration files are small text files that provide the information the StorageGRID host service needs to start a node and connect it to the appropriate network and block storage resources. Node configuration files are used for virtual nodes and aren’t used for appliance nodes. Location for node configuration files

Place the configuration file for each StorageGRID node in the /etc/storagegrid/nodes directory on the host where the node will run. For example, if you plan to run one Admin Node, one Gateway Node, and one Storage Node on HostA, you must place three node configuration files in /etc/storagegrid/nodes on HostA.

You can create the configuration files directly on each host using a text editor, such as vim or nano, or you can create them elsewhere and move them to each host. Naming of node configuration files Your StorageGRID system is installed and configured when a confirmation message is displayed.

163

StorageGRID has been configured and installed.

Related information Overview of the installation REST API

Deploy virtual grid nodes (Ubuntu or Debian)

Create node configuration files for Ubuntu or Debian deployments

Node configuration files are small text files that provide the information the StorageGRID host service needs to start a node and connect it to the appropriate network and block storage resources. Node configuration files are used for virtual nodes and aren’t used for appliance nodes. Location for node configuration files

Place the configuration file for each StorageGRID node in the /etc/storagegrid/nodes directory on the host where the node will run. For example, if you plan to run one Admin Node, one Gateway Node, and one Storage Node on HostA, you must place three node configuration files in /etc/storagegrid/nodes on HostA.

You can create the configuration files directly on each host using a text editor, such as vim or nano, or you can create them elsewhere and move them to each host. Naming of node configuration files

The names of the configuration files are significant. The format is node-name.conf, where node-name is a name you assign to the node. This name appears in the StorageGRID Installer and is used for node maintenance operations, such as node migration.

Node names must follow these rules:

Must be unique

Must start with a letter

Can contain the characters A through Z and a through z

Can contain the numbers 0 through 9

Can contain one or more hyphens (-)

Must be no more than 32 characters, not including the .conf extension

Any files in /etc/storagegrid/nodes that don’t follow these naming conventions will not be parsed by the host service.

If you have a multi-site topology planned for your grid, a typical node naming scheme might be: site-nodetype-nodenumber.conf

For example, you might use dc1-adm1.conf for the first Admin Node in Data Center 1, and dc2-sn3.conf for the third Storage Node in Data Center 2. However, you can use any scheme you like, as long as all node names follow the naming rules.

164

Contents of a node configuration file

A configuration file contains key/value pairs, with one key and one value per line. For each key/value pair, follow these rules:

The key and the value must be separated by an equal sign (=) and optional whitespace.

The keys can contain no spaces.

The values can contain embedded spaces.

Any leading or trailing whitespace is ignored.

The following table defines the values for all supported keys. Each key has one of the following designations:

Required: Required for every node or for the specified node types

Best practice: Optional, although recommended

Optional: Optional for all nodes Admin Network keys

ADMIN_IP

Value

Designation

Grid Network IPv4 address of the primary Admin Node for the grid to which this node belongs. Use the same value you specified for GRID_NETWORK_IP for the grid node with NODE_TYPE = VM_Admin_Node and ADMIN_ROLE = Primary. If you omit this parameter, the node attempts to discover a primary Admin Node using mDNS. Best practice

How grid nodes discover the primary Admin Node

Note: This value is ignored, and might be prohibited, on the primary Admin Node.

ADMIN_NETWORK_CONFIG

Value

Designation

DHCP, STATIC, or DISABLED

Optional

ADMIN_NETWORK_ESL

Value

Designation

Comma-separated list of subnets in CIDR notation to which this node should communicate using the Admin Network gateway. Optional

Example: 172.16.0.0/21,172.17.0.0/21

165

ADMIN_NETWORK_GATEWAY

Value

IPv4 address of the local Admin Network gateway for this node. Must be on the subnet defined by ADMIN_NETWORK_IP and ADMIN_NETWORK_MASK. This value is ignored for DHCP-configured networks.

Examples: