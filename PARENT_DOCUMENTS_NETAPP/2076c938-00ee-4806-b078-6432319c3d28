When you start the upgrade, the prechecks are run again and the primary Admin Node is upgraded automatically. You can’t access the Grid Manager while the primary Admin Node is being upgraded. Audit logs will also be unavailable. This upgrade can take up to 30 minutes.

Download Recovery Package

After the primary Admin Node has been upgraded, download a new Recovery Package. Approve nodes

You can approve individual grid nodes, groups of grid nodes, or all grid nodes.

Don’t approve the upgrade for a grid node unless you are sure that node is ready to be stopped and rebooted.

Resume operations

When all grid nodes have been upgraded, new features are enabled and you can resume operations. You must wait to perform a decommission or expansion procedure until the background Upgrade database task and the Final upgrade steps task have completed.

Related information

Estimate the time to complete an upgrade

Linux: Download and install the RPM or DEB package on all hosts

If any StorageGRID nodes are deployed on Linux hosts, download and install an additional RPM or DEB package on each of these hosts before you start the upgrade. Download upgrade, Linux, and hotfix files

When you perform a StorageGRID upgrade from the Grid Manager, you are prompted to download the

260

upgrade archive and any required hotfix as the first step. However, if you need to download files to upgrade Linux hosts, you can save time by downloading all required files in advance. Steps

1. Go to NetApp Downloads: StorageGRID.

2. Select the button for downloading the latest release, or select another version from the drop-down menu and select Go.

StorageGRID software versions have this format: 11.x.y. StorageGRID hotfixes have this format: 11.x.y.z.

3. Sign in with the username and password for your NetApp account.

4. If a Caution/MustRead notice appears, make note of the hotfix number, and select the checkbox.

5. Read the End User License Agreement, select the checkbox, and then select Accept & Continue.

The downloads page for the version you selected appears. The page contains three columns.

6. From the second column (Upgrade StorageGRID), download two files:

The upgrade archive for the latest release (this is the file in the section labeled VMware, SG1000, or SG100 Primary Admin Node). While this file is not needed until you perform the upgrade, downloading it now will save time. An RPM or DEB archive in either .tgz or .zip format. Select the .zip file if you are running Windows on the service laptop. ▪ Red Hat Enterprise Linux

StorageGRID-Webscale-version-RPM-uniqueID.zip StorageGRID-Webscale-version-RPM-uniqueID.tgz

▪ Ubuntu or Debian

StorageGRID-Webscale-version-DEB-uniqueID.zip StorageGRID-Webscale-version-DEB-uniqueID.tgz

7. If you needed to agree to a Caution/MustRead notice because of a required hotfix, download the hotfix:

a. Go back to NetApp Downloads: StorageGRID.

b. Select the hotfix number from the drop-down.

c. Agree to the Caution notice and EULA again.

d. Download and save the hotfix and its README.

You will be prompted to upload the hotfix file on the StorageGRID Upgrade page when you start the upgrade. Install archive on all Linux hosts The upgrade archive for the latest release (this is the file in the section labeled VMware, SG1000, or SG100 Primary Admin Node). While this file is not needed until you perform the upgrade, downloading it now will save time. An RPM or DEB archive in either .tgz or .zip format. Select the .zip file if you are running Windows on the service laptop. ▪ Red Hat Enterprise Linux

StorageGRID-Webscale-version-RPM-uniqueID.zip StorageGRID-Webscale-version-RPM-uniqueID.tgz

▪ Ubuntu or Debian

StorageGRID-Webscale-version-DEB-uniqueID.zip StorageGRID-Webscale-version-DEB-uniqueID.tgz

7. If you needed to agree to a Caution/MustRead notice because of a required hotfix, download the hotfix:

a. Go back to NetApp Downloads: StorageGRID.

b. Select the hotfix number from the drop-down.

c. Agree to the Caution notice and EULA again.

d. Download and save the hotfix and its README.

You will be prompted to upload the hotfix file on the StorageGRID Upgrade page when you start the upgrade. Install archive on all Linux hosts

Perform these steps before upgrading StorageGRID software.

Steps

1. Extract the RPM or DEB packages from the installation file.

2. Install the RPM or DEB packages on all Linux hosts.

See the steps for installing StorageGRID host services in the installation instructions:

261

◦ Red Hat Enterprise Linux: Install StorageGRID host services ◦ Ubuntu or Debian: Install StorageGRID host services

The new packages are installed as additional packages. Don’t remove the existing packages.

Perform the upgrade

You can upgrade to StorageGRID 11.8 and apply the latest hotfix for that release at the same time. The StorageGRID upgrade page provides the recommended upgrade path and links directly to the correct download pages.

Before you begin