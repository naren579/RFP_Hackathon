and registering a node to use this domain policy

These instructions are provided for your guidance only; they aren’t intended to replace TSM documentation, or to provide complete and comprehensive instructions suitable for all configurations. Deployment specific instructions should be provided by a TSM administrator who is familiar both with your detailed requirements, and with the complete set of TSM Server documentation. Define TSM tape and disk storage pools

The Archive Node writes to a disk storage pool. To archive content to tape, you must configure the disk storage pool to move content to a tape storage pool. About this task

For a TSM server, you must define a tape storage pool and a disk storage pool within Tivoli Storage Manager. After the disk pool is defined, create a disk volume and assign it to the disk pool. A tape pool is not required if your TSM server uses disk‐only storage.

You must complete several steps on your TSM server before you can create a tape storage pool. (Create a tape library and at least one drive in the tape library. Define a path from the server to the library and from the server to the drives, and then define a device class for the drives.) The details of these steps can vary depending upon the hardware configuration and storage requirements of the site. For more information, see the TSM documentation.

The following set of instructions illustrates the process. You should be aware that the requirements for your site could be different depending on the requirements of your deployment. For configuration details and for instructions, see the TSM documentation. You must log in to the server with administrative privileges and use the dsmadmc tool to execute the following commands.

Steps

1. Create a tape library.

define library tapelibrary libtype=scsi

Where tapelibrary is an arbitrary name chosen for the tape library, and the value of libtype can vary depending upon the type of tape library.

2. Define a path from the server to the tape library. define path servername tapelibrary srctype=server desttype=library device=lib- devicename

servername is the name of the TSM server ◦ tapelibrary is the tape library name you defined ◦ lib-devicename is the device name for the tape library

3. Define a drive for the library.

define drive tapelibrary drivename

589

◦ drivename is the name you want to specify for the drive ◦ tapelibrary is the tape library name you defined

You might want to configure an additional drive or drives, depending upon your hardware configuration. (For example, if the TSM server is connected to a Fibre Channel switch that has two inputs from a tape library, you might want to define a drive for each input.)

4. Define a path from the server to the drive you defined. define path servername drivename srctype=server desttype=drive library=tapelibrary device=drive-dname

drive-dname is the device name for the drive ◦ tapelibrary is the tape library name you defined

Repeat for each drive that you have defined for the tape library, using a separate drivename and drive-dname for each drive.

5. Define a device class for the drives.

define devclass DeviceClassName devtype=lto library=tapelibrary format=tapetype

DeviceClassName is the name of the device class ◦ lto is the type of drive connected to the server ◦ tapelibrary is the tape library name you defined ◦ tapetype is the tape type; for example, ultrium3

6. Add tape volumes to the inventory for the library. checkin libvolume tapelibrary

tapelibrary is the tape library name you defined.

7. Create the primary tape storage pool. define stgpool SGWSTapePool DeviceClassName description=description collocate=filespace maxscratch=XX 4. Define a path from the server to the drive you defined. define path servername drivename srctype=server desttype=drive library=tapelibrary device=drive-dname

drive-dname is the device name for the drive ◦ tapelibrary is the tape library name you defined

Repeat for each drive that you have defined for the tape library, using a separate drivename and drive-dname for each drive.

5. Define a device class for the drives.

define devclass DeviceClassName devtype=lto library=tapelibrary format=tapetype

DeviceClassName is the name of the device class ◦ lto is the type of drive connected to the server ◦ tapelibrary is the tape library name you defined ◦ tapetype is the tape type; for example, ultrium3

6. Add tape volumes to the inventory for the library. checkin libvolume tapelibrary

tapelibrary is the tape library name you defined.

7. Create the primary tape storage pool. define stgpool SGWSTapePool DeviceClassName description=description collocate=filespace maxscratch=XX

SGWSTapePool is the name of the Archive Node’s tape storage pool. You can select any name for the tape storage pool (as long as the name uses the syntax conventions expected by the TSM server).