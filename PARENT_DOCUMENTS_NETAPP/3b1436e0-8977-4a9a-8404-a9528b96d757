In general, use the same number of days for the certificates on both sides of the connection.

If the certificates on either end of the connection expire, the connection will stop working and replications will be pending until the certificates are updated.

6. Enter the provisioning passphrase for the grid you are currently signed in to.

7. Select Save and test. The certificates are generated and the connection is tested. If the connection is valid, a success message appears and the new connection is listed on the Grid federation page. The Connection status will be Connected.

If an error message appears, address any issues. See Troubleshoot grid federation errors.

8. Go to the Grid federation page on the first grid and refresh the browser. Confirm that the Connection status is now Connected. 2. Select CONFIGURATION > System > Grid federation.

3. Select Upload verification file to access the Upload page.

4. Select Upload verification file. Then, browse to and select the file that was downloaded from the first grid (connection-name.grid-federation).

The details for the connection are shown.

5. Optionally, enter a different number of valid days for the security certificates for this grid. The Certificate valid days entry defaults to the value you entered on the first grid, but each grid can use different expiration dates.

In general, use the same number of days for the certificates on both sides of the connection.

If the certificates on either end of the connection expire, the connection will stop working and replications will be pending until the certificates are updated.

6. Enter the provisioning passphrase for the grid you are currently signed in to.

7. Select Save and test. The certificates are generated and the connection is tested. If the connection is valid, a success message appears and the new connection is listed on the Grid federation page. The Connection status will be Connected.

If an error message appears, address any issues. See Troubleshoot grid federation errors.

8. Go to the Grid federation page on the first grid and refresh the browser. Confirm that the Connection status is now Connected.

9. After the connection has been established, securely delete all copies of the verification file.

If you edit this connection, a new verification file will be created. The original file can’t be reused.

After you finish

368

• Review the considerations for managing permitted tenants.

Create one or more new tenant accounts, assign the Use grid federation connection permission, and select the new connection.

Manage the connection as required. You can edit connection values, test a connection, rotate connection certificates, or remove a connection. Monitor the connection as part of your normal StorageGRID monitoring activities.

Troubleshoot the connection, including resolving any alerts and errors related to account clone and cross- grid replication.

Manage grid federation connections

Managing grid federation connections between StorageGRID systems includes editing connection details, rotating the certificates, removing tenant permissions, and removing unused connections.

Before you begin

You are signed in to the Grid Manager on either grid using a supported web browser.

You have the Root access permission for the grid you are signed in to. Edit a grid federation connection

You can edit a grid federation connection by signing in to the primary Admin Node on either grid in the connection. After you make changes to the first grid, you must download a new verification file and upload it to the other grid.

While the connection is being edited, account clone or cross-grid replication requests will continue to use the existing connection settings. Any edits you make to the first grid are saved locally but aren’t used until they have been uploaded to the second grid, saved, and tested.

Start editing the connection Steps

1. Sign in to the Grid Manager from the primary Admin Node on either grid.

2. Select NODES and confirm that all other Admin Nodes in your system are online.

When you edit a grid federation connection, StorageGRID attempts to save a "candidate configuration" file on all Admin Nodes on the first grid. If this file can’t be saved to all Admin Nodes, a warning message appears when you select Save and test.

3. Select CONFIGURATION > System > Grid federation.

4. Edit the connection details using the Actions menu on the Grid federation page or the details page for a specific connection. See Create grid federation connections for what to enter.

369

Actions menu

a. Select the radio button for the connection. b. Select Actions > Edit.

c. Enter the new information.

Details page

a. Select a connection name to display its details.

b. Select Edit. c. Enter the new information.

5. Enter the provisioning passphrase for the grid you are signed in to.

6. Select Save and continue.