10. Continue monitoring the installation progress until a message appears in the console window, prompting you to use the Grid Manager to approve the node.

Wait until all nodes you added in this expansion are ready for approval before going to the Grid Manager to approve the nodes.

1416 Perform expansion

When you perform the expansion, the new grid nodes are added to your existing StorageGRID deployment.

Before you begin

You are signed in to the Grid Manager using a supported web browser.

You have the provisioning passphrase.

You have deployed all of the grid nodes that are being added in this expansion.

You have the Maintenance or Root access permission.

1417

• If you are adding Storage Nodes, you have confirmed that all data-repair operations performed as part of a

recovery are complete. See Check data repair jobs.

If you are adding Storage Nodes and you want to assign a custom storage grade to those nodes, you have already created the custom storage grade. You also have either the Root access permission or both the Maintenance and ILM permissions. If you are adding a new site, you have reviewed and updated ILM rules. You must ensure that object copies aren’t stored to the new site until after the expansion is complete. For example, if a rule uses the default storage pool (All Storage Nodes), you must create a new storage pool that contains only the existing Storage Nodes and update ILM rules and the ILM policy to use that new storage pool. Otherwise, objects will be copied to the new site as soon as the first node at that site becomes active. About this task

Performing the expansion includes these main user tasks:

1. Configure the expansion.

2. Start the expansion.

3. Download a new Recovery Package file.

4. Monitor the expansion steps and stages until all new nodes are installed and configured and all services have started.

Some expansion steps and stages might take a significant amount of time to run on a large grid. For example, streaming Cassandra to a new Storage Node might take only a few minutes if the Cassandra database is empty. However, if the Cassandra database includes a large amount of object metadata, this stage might take several hours or longer. Don’t reboot any Storage Nodes during the either the "Expanding the Cassandra cluster" or "Starting Cassandra and streaming data" stages. Steps

1. Select MAINTENANCE > Tasks > Expansion.

The Grid Expansion page appears. The Pending Nodes section lists the nodes that are ready to be added.

1418

2. Select Configure Expansion.

The Site Selection dialog box appears.

3. Select the type of expansion you are starting:

If you are adding a new site, select New, and enter the name of the new site. ◦ If you are adding one or more nodes to an existing site, select Existing.

4. Select Save.

5. Review the Pending Nodes list, and confirm that it shows all of the grid nodes you deployed.

As required, you can position your cursor over a node’s Grid Network MAC Address to see details about that node.

1419

If a node is missing, confirm that it was deployed successfully.

6. From the list of pending nodes, approve the nodes you want to add in this expansion.

a. Select the radio button next to the first pending grid node you want to approve. b. Select Approve.

The grid node configuration form appears.

c. As required, modify the general settings:

Field

Description

Site

The name of the site the grid node will be associated with. If you are adding multiple nodes, be sure to select the correct site for each node. If you are adding a new site, all nodes are added to the new site. Name

The system name for the node. System names are required for internal StorageGRID operations and can’t be changed.

1420

Field

Description

NTP Role If you are adding a new site, select New, and enter the name of the new site. ◦ If you are adding one or more nodes to an existing site, select Existing.

4. Select Save.

5. Review the Pending Nodes list, and confirm that it shows all of the grid nodes you deployed.

As required, you can position your cursor over a node’s Grid Network MAC Address to see details about that node.

1419

If a node is missing, confirm that it was deployed successfully.

6. From the list of pending nodes, approve the nodes you want to add in this expansion.

a. Select the radio button next to the first pending grid node you want to approve. b. Select Approve.

The grid node configuration form appears.

c. As required, modify the general settings:

Field

Description

Site

The name of the site the grid node will be associated with. If you are adding multiple nodes, be sure to select the correct site for each node. If you are adding a new site, all nodes are added to the new site. Name

The system name for the node. System names are required for internal StorageGRID operations and can’t be changed.

1420

Field

Description

NTP Role

The Network Time Protocol (NTP) role of the grid node: