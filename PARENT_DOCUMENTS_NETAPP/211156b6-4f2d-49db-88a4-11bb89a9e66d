Don’t change the audit level configuration.

Don’t update the ILM configuration.

You are prevented from performing other maintenance procedures, such as hotfix, decommission, or expansion.

Note: If you need to perform a recovery, contact technical support. Enable features

The new features for the new version are enabled.

Less than 5 minutes

Don’t change the grid configuration.

Don’t change the audit level configuration.

Don’t update the ILM configuration.

You can’t perform another maintenance procedure.

Upgrade database

The upgrade process checks each node to verify that the Cassandra database does not need to be updated. 10 seconds per node or a few minutes for the entire grid

The upgrade from StorageGRID 11.7 to 11.8 does not require a Cassandra database upgrade; however, the Cassandra service will be stopped and restarted on each Storage Node.

For future StorageGRID feature releases, the Cassandra database update step might take several days to complete. Final upgrade steps

Temporary files are removed and the upgrade to the new release completes.

5 minutes

When the Final upgrade steps task completes, you can perform all maintenance procedures. Steps

1. Estimate the time required to upgrade all grid nodes.

a. Multiply the number of nodes in your StorageGRID system by 1 hour/node.

As a general rule, appliance nodes take longer to upgrade than software-based nodes.

b. Add 1 hour to this time to account for the time required to download the .upgrade file, run precheck

validations, and complete the final upgrade steps.

2. If you have Linux nodes, add 15 minutes for each node to account for the time required to download and install the RPM or DEB package.

3. Calculate the total estimated time for the upgrade by adding the results of steps 1 and 2.

253

Example: Estimated time to upgrade to StorageGRID 11.8

Suppose your system has 14 grid nodes, of which 8 are Linux nodes.

1. Multiply 14 by 1 hour/node.

2. Add 1 hour to account for the download, precheck, and final steps.

The estimated time to upgrade all nodes is 15 hours. 3. Multiply 8 by 15 minutes/node to account for the time to install the RPM or DEB package on the Linux nodes.

The estimated time for this step is 2 hours.

4. Add the values together.

You should allow up to 17 hours to complete the upgrade of your system to StorageGRID 11.8.0.

As required, you can split the maintenance window into smaller windows by approving subsets of grid nodes to upgrade in multiple sessions. For example, you might prefer to upgrade the nodes at site A in one session and then upgrade the nodes at site B in a later session. If you choose to perform the upgrade in more than one session, be aware that you can’t start using the new features until all nodes have been upgraded.

How your system is affected during the upgrade

Learn how your StorageGRID system will be affected during upgrade.

StorageGRID upgrades are non-disruptive The StorageGRID system can ingest and retrieve data from client applications throughout the upgrade process. If you approve all nodes of the same type to upgrade (for example, Storage Nodes), the nodes are brought down one at a time, so there is no time when all grid nodes or all grid nodes of a certain type are unavailable.

To allow for continued availability, ensure that your ILM policy contains rules that specify storing multiple copies of each object. You must also ensure that all external S3 or Swift clients are configured to send requests to one of the following:

A high availability (HA) group virtual IP address

A high availability third-party load balancer

Multiple Gateway Nodes for each client

Multiple Storage Nodes for each client As required, you can split the maintenance window into smaller windows by approving subsets of grid nodes to upgrade in multiple sessions. For example, you might prefer to upgrade the nodes at site A in one session and then upgrade the nodes at site B in a later session. If you choose to perform the upgrade in more than one session, be aware that you can’t start using the new features until all nodes have been upgraded.

How your system is affected during the upgrade

Learn how your StorageGRID system will be affected during upgrade.

StorageGRID upgrades are non-disruptive The StorageGRID system can ingest and retrieve data from client applications throughout the upgrade process. If you approve all nodes of the same type to upgrade (for example, Storage Nodes), the nodes are brought down one at a time, so there is no time when all grid nodes or all grid nodes of a certain type are unavailable.

To allow for continued availability, ensure that your ILM policy contains rules that specify storing multiple copies of each object. You must also ensure that all external S3 or Swift clients are configured to send requests to one of the following:

A high availability (HA) group virtual IP address

A high availability third-party load balancer

Multiple Gateway Nodes for each client