If this retrieval is successful, the StorageGRID system replaces the missing copy of the object. Otherwise, the Objects lost alert is triggered, as follows:

For replicated copies, if another copy can’t be retrieved, the object is considered lost, and the alert is triggered.

For erasure-coded copies, if a copy can’t be retrieved from the expected location, the Corrupt Copies Detected (ECOR) attribute is incremented by one before an attempt is made to retrieve a copy from another location. If no other copy is found, the alert is triggered. You should investigate all Objects lost alerts immediately to determine the root cause of the loss and to determine if the object might still exist in an offline, or otherwise currently unavailable, Storage Node or Archive Node. See Investigate lost objects.

In the case where object data without copies is lost, there is no recovery solution. However, you must reset the Lost objects counter to prevent known lost objects from masking any new lost objects. See Reset lost and missing object counts.

1260

Investigate lost objects

When the Objects lost alert is triggered, you must investigate immediately. Collect information about the affected objects and contact technical support.

Before you begin

You must be signed in to the Grid Manager using a supported web browser.

You have specific access permissions.

You must have the Passwords.txt file. About this task

The Objects lost alert indicates that StorageGRID believes that there are no copies of an object in the grid. Data might have been permanently lost.

Investigate lost object alerts immediately. You might need to take action to prevent further data loss. In some cases, you might be able to restore a lost object if you take prompt action. Steps

1. Select NODES.

2. Select Storage Node > Objects.

3. Review the number of Lost objects shown in the Object counts table.

This number indicates the total number of objects this grid node detects as missing from the entire StorageGRID system. The value is the sum of the Lost objects counters of the Data store component within the LDR and DDS services.

1261

4. From an Admin Node, access the audit log to determine the unique identifier (UUID) of the object that triggered the Objects lost alert: a. Log in to the grid node:

i. Enter the following command: ssh admin@grid_node_IP

ii. Enter the password listed in the Passwords.txt file.

iii. Enter the following command to switch to root: su -

iv. Enter the password listed in the Passwords.txt file.

When you are logged in as root, the prompt changes from $ to #. You must have the Passwords.txt file. About this task

The Objects lost alert indicates that StorageGRID believes that there are no copies of an object in the grid. Data might have been permanently lost.

Investigate lost object alerts immediately. You might need to take action to prevent further data loss. In some cases, you might be able to restore a lost object if you take prompt action. Steps

1. Select NODES.

2. Select Storage Node > Objects.

3. Review the number of Lost objects shown in the Object counts table.

This number indicates the total number of objects this grid node detects as missing from the entire StorageGRID system. The value is the sum of the Lost objects counters of the Data store component within the LDR and DDS services.

1261

4. From an Admin Node, access the audit log to determine the unique identifier (UUID) of the object that triggered the Objects lost alert: a. Log in to the grid node:

i. Enter the following command: ssh admin@grid_node_IP

ii. Enter the password listed in the Passwords.txt file.

iii. Enter the following command to switch to root: su -

iv. Enter the password listed in the Passwords.txt file.

When you are logged in as root, the prompt changes from $ to #.

b. Change to the directory where the audit logs are located. Enter: cd /var/local/log/

c. Use grep to extract the Object Lost (OLST) audit messages. Enter: grep OLST audit_file_name

d. Note the UUID value included in the message.

1262

>Admin: # grep OLST audit.log 2020-02-12T19:18:54.780426 [AUDT:[CBID(UI64):0x38186FE53E3C49A5][UUID(CSTR):926026C4-00A4-449B- AC72-BCCA72DD1311] [PATH(CSTR):"source/cats"][NOID(UI32):12288733][VOLI(UI64):3222345986 ][RSLT(FC32):NONE][AVER(UI32):10] [ATIM(UI64):1581535134780426][ATYP(FC32):OLST][ANID(UI32):12448208][A MID(FC32):ILMX][ATID(UI64):7729403978647354233]] 5. Use the ObjectByUUID command to find the object by its identifier (UUID), and then determine if data is at risk.

a. Telnet to localhost 1402 to access the LDR console.

b. Enter: /proc/OBRP/ObjectByUUID UUID_value

In this first example, the object with UUID 926026C4-00A4-449B-AC72-BCCA72DD1311 has two locations listed. 1262