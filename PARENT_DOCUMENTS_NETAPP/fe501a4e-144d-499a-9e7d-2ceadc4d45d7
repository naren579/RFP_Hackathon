After you perform the expansion, StorageGRID redistributes the existing object metadata to the new nodes, which increases the overall metadata capacity of the grid. No user action is required. The Low metadata storage alert is cleared. Services: Status - Cassandra (SVST) alarm

The Services: Status - Cassandra (SVST) alarm indicates that you might need to rebuild the Cassandra database for a Storage Node. Cassandra is used as the metadata store for StorageGRID.

Before you begin

You must be signed in to the Grid Manager using a supported web browser.

You have specific access permissions.

You must have the Passwords.txt file. About this task 1. Select ALERTS > Current.

2. From the table of alerts, expand the Low metadata storage alert group, if required, and select the specific alert you want to view.

3. Review the details in the alert dialog box.

4. If a major or critical Low metadata storage alert has been triggered, perform an expansion to add Storage Nodes immediately.

Because StorageGRID keeps complete copies of all object metadata at each site, the metadata capacity of the entire grid is limited by the metadata capacity of the smallest site. If you need to add metadata capacity to one site, you should also expand any other sites by the same number of Storage Nodes.

After you perform the expansion, StorageGRID redistributes the existing object metadata to the new nodes, which increases the overall metadata capacity of the grid. No user action is required. The Low metadata storage alert is cleared. Services: Status - Cassandra (SVST) alarm

The Services: Status - Cassandra (SVST) alarm indicates that you might need to rebuild the Cassandra database for a Storage Node. Cassandra is used as the metadata store for StorageGRID.

Before you begin

You must be signed in to the Grid Manager using a supported web browser.

You have specific access permissions.

You must have the Passwords.txt file. About this task

If Cassandra is stopped for more than 15 days (for example, the Storage Node is powered off), Cassandra will not start when the node is brought back online. You must rebuild the Cassandra database for the affected DDS

1285

service.

You can run diagnostics to obtain additional information about the current state of your grid.

If two or more of the Cassandra database services are down for more than 15 days, contact technical support, and donâ€™t proceed with the steps below. Steps

1. Select SUPPORT > Tools > Grid topology.

2. Select Site > Storage Node > SSM > Services > Alarms > Main to display alarms.

This example shows that the SVST alarm was triggered.

The SSM Services Main page also indicates that Cassandra is not running.

3. Try restarting Cassandra from the Storage Node: a. Log in to the grid node:

i. Enter the following command: ssh admin@grid_node_IP

1286

ii. Enter the password listed in the Passwords.txt file.

iii. Enter the following command to switch to root: su -

iv. Enter the password listed in the Passwords.txt file.

When you are logged in as root, the prompt changes from $ to #. b. Enter: /etc/init.d/cassandra status

c. If Cassandra is not running, restart it: /etc/init.d/cassandra restart

4. If Cassandra does not restart, determine how long Cassandra has been down. If Cassandra has been down for longer than 15 days, you must rebuild the Cassandra database.

If two or more of the Cassandra database services are down, contact technical support, and donâ€™t proceed with the steps below.

You can determine how long Cassandra has been down by charting it or by reviewing the servermanager.log file.

5. To chart Cassandra:

a. Select SUPPORT > Tools > Grid topology. Then select Site > Storage Node > SSM > Services > Reports > Charts.

b. Select Attribute > Service: Status - Cassandra.

c. For Start Date, enter a date that is at least 16 days before the current date. For End Date, enter the

current date.

d. Click Update.

e. If the chart shows Cassandra as being down for more than 15 days, rebuild the Cassandra database.

The following chart example shows that Cassandra has been down for at least 17 days.

1287

6. To review the servermanager.log file on the Storage Node: a. Log in to the grid node:

i. Enter the following command: ssh admin@grid_node_IP

ii. Enter the password listed in the Passwords.txt file.

iii. Enter the following command to switch to root: su -

iv. Enter the password listed in the Passwords.txt file.

When you are logged in as root, the prompt changes from $ to #. b. Enter: cat /var/local/log/servermanager.log

The contents of the servermanager.log file are displayed.

If Cassandra has been down for longer than 15 days, the following message is displayed in the servermanager.log file: a. Select SUPPORT > Tools > Grid topology. Then select Site > Storage Node > SSM > Services > Reports > Charts.

b. Select Attribute > Service: Status - Cassandra.