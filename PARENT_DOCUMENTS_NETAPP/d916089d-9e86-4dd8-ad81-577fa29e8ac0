A parent interface must be configured as a trunk interface at the switch.

A parent interface can be the Grid Network (eth0), the Client Network (eth2), or an additional trunk interface for the VM or bare-metal host (for example, ens256).

For each VLAN interface, you can select only one parent interface for a given node. For example, you can’t use both the Grid Network interface and the Client Network interface on the same Gateway Node as the parent interface for the same VLAN. If the VLAN interface is for Admin Node traffic, which includes traffic related to the Grid Manager and the Tenant Manager, select interfaces on Admin Nodes only.

If the VLAN interface is for S3 or Swift client traffic, select interfaces on either Admin Nodes or Gateway Nodes.

If you need to add trunk interfaces, see the following for details:

VMware (after installing the node): VMware: Add trunk or access interfaces to a node ◦ RHEL (before installing the node): Create node configuration files ◦ Ubuntu or Debian (before installing the node): Create node configuration files ◦ RHEL, Ubuntu, or Debian (after installing the node): Linux: Add trunk or access interfaces to a node

Create a VLAN interface

Before you begin

You are signed in to the Grid Manager using a supported web browser.

You have the Root access permission. A parent interface must be configured as a trunk interface at the switch.

A parent interface can be the Grid Network (eth0), the Client Network (eth2), or an additional trunk interface for the VM or bare-metal host (for example, ens256).

For each VLAN interface, you can select only one parent interface for a given node. For example, you can’t use both the Grid Network interface and the Client Network interface on the same Gateway Node as the parent interface for the same VLAN. If the VLAN interface is for Admin Node traffic, which includes traffic related to the Grid Manager and the Tenant Manager, select interfaces on Admin Nodes only.

If the VLAN interface is for S3 or Swift client traffic, select interfaces on either Admin Nodes or Gateway Nodes.

If you need to add trunk interfaces, see the following for details:

VMware (after installing the node): VMware: Add trunk or access interfaces to a node ◦ RHEL (before installing the node): Create node configuration files ◦ Ubuntu or Debian (before installing the node): Create node configuration files ◦ RHEL, Ubuntu, or Debian (after installing the node): Linux: Add trunk or access interfaces to a node

Create a VLAN interface

Before you begin

You are signed in to the Grid Manager using a supported web browser.

You have the Root access permission.

A trunk interface has been configured in the network and attached to the VM or Linux node. You know the name of the trunk interface. You know the ID of the VLAN you are configuring.

About this task

Your network administrator might have configured one or more trunk interfaces and one or more VLANs to segregate the client or admin traffic belonging to different applications or tenants. Each VLAN is identified by a numeric ID or tag. For example, your network might use VLAN 100 for FabricPool traffic and VLAN 200 for an archive application.

You can use the Grid Manager to create VLAN interfaces that allow clients to access StorageGRID on a specific VLAN. When you create VLAN interfaces, you specify the VLAN ID and select parent (trunk) interfaces on one or more nodes. Access the wizard

Steps

1. Select CONFIGURATION > Network > VLAN interfaces.

2. Select Create.

516

Enter details for the VLAN interfaces

Steps

1. Specify the ID of the VLAN in your network. You can enter any value between 1 and 4094.

VLAN IDs don’t need to be unique. For example, you might use VLAN ID 200 for admin traffic at one site and the same VLAN ID for client traffic at another site. You can create separate VLAN interfaces with different sets of parent interfaces at each site. However, two VLAN interfaces with the same ID can’t share the same interface on a node. If you specify an ID that has already been used, a message appears.

2. Optionally, enter a short description for the VLAN interface.

3. Select Continue. Choose parent interfaces

The table lists the available interfaces for all Admin Nodes and Gateway Nodes at each site in your grid. Admin Network (eth1) interfaces can’t be used as parent interfaces and aren’t shown.

Steps

1. Select one or more parent interfaces to attach this VLAN to.

For example, you might want to attach a VLAN to the Client Network (eth2) interface for a Gateway Node and an Admin Node.

2. Select Continue.

Confirm the settings Steps

517

1. Review the configuration and make any changes.

If you need to change the VLAN ID or description, select Enter VLAN details at the top of the page. ◦ If you need to change a parent interface, select Choose parent interfaces at the top of the page or select Previous.

If you need to remove a parent interface, select the trash can .

2. Select Save.