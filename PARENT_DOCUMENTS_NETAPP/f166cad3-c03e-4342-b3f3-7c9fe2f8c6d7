Access the Configure external syslog server wizard and provide the information StorageGRID needs to access the external syslog server. Steps

1. From the Audit and syslog server page, select Configure external syslog server. Or, if you have

1189

previously configured an external syslog server, select Edit external syslog server.

The Configure external syslog server wizard appears.

2. For the Enter syslog info step of the wizard, enter a valid fully qualified domain name or an IPv4 or IPv6 address for the external syslog server in the Host field.

3. Enter the destination port on the external syslog server (must be an integer between 1 and 65535). The default port is 514.

4. Select the protocol used to send audit information to the external syslog server.

Using TLS or RELP/TLS is recommended. You must upload a server certificate to use either of these options. Using certificates helps secure the connections between your grid and the external syslog server. For more information, see Manage security certificates. All protocol options require support by, and configuration of, the external syslog server. You must choose an option that is compatible with the external syslog server.

Reliable Event Logging Protocol (RELP) extends the functionality of the syslog protocol to provide reliable delivery of event messages. Using RELP can help prevent the loss of audit information if your external syslog server has to restart.

5. Select Continue.

6.

If you selected TLS or RELP/TLS, upload the server CA certificates, client certificate, and client private key.

a. Select Browse for the certificate or key you want to use.

b. Select the certificate or key file.

c. Select Open to upload the file.

A green check appears next to the certificate or key file name, notifying you that it has been uploaded successfully.

7. Select Continue.

Manage syslog content

You can select which information to send to the external syslog server. Steps

1. For the Manage syslog content step of the wizard, select each type of audit information you want to send to the external syslog server.

Send audit logs: Sends StorageGRID events and system activities ◦ Send security events: Sends security events such as when an unauthorized user attempts to sign in or a user signs in as root

Send application logs: Sends log files useful for troubleshooting including: ▪ bycast-err.log ▪ bycast.log ▪ jaeger.log

1190

▪ nms.log (Admin Nodes only) ▪ prometheus.log ▪ raft.log ▪ hagroups.log

For information about StorageGRID software logs, see StorageGRID software logs.

2. Use the drop-down menus to select the severity and facility (type of message) for each category of audit information you want to send. a. Select Browse for the certificate or key you want to use.

b. Select the certificate or key file.

c. Select Open to upload the file.

A green check appears next to the certificate or key file name, notifying you that it has been uploaded successfully.

7. Select Continue.

Manage syslog content

You can select which information to send to the external syslog server. Steps

1. For the Manage syslog content step of the wizard, select each type of audit information you want to send to the external syslog server.

Send audit logs: Sends StorageGRID events and system activities ◦ Send security events: Sends security events such as when an unauthorized user attempts to sign in or a user signs in as root

Send application logs: Sends log files useful for troubleshooting including: ▪ bycast-err.log ▪ bycast.log ▪ jaeger.log

1190

▪ nms.log (Admin Nodes only) ▪ prometheus.log ▪ raft.log ▪ hagroups.log

For information about StorageGRID software logs, see StorageGRID software logs.

2. Use the drop-down menus to select the severity and facility (type of message) for each category of audit information you want to send.

Setting severity and facility values can help you aggregate the logs in customizable ways for easier analysis.

a. For Severity, select Passthrough, or select a severity value between 0 and 7.

If you select a value, the selected value will be applied to all messages of this type. Information about different severities will be lost if you override severity with a fixed value. Severity

Description

Passthrough

Each message sent to the external syslog to have the same severity value as when it was logged locally onto the node:

For audit logs, the severity is "info."

For security events, the severity values are generated by the Linux distribution on the nodes.

For application logs, the severities vary between "info" and "notice," depending on what the issue is. For example, adding an NTP server and configuring an HA group gives a value of "info," while intentionally stopping the SSM or RSM service gives a value of "notice."

0

Emergency: System is unusable

1

Alert: Action must be taken immediately

2 Critical: Critical conditions

3

Error: Error conditions

4

Warning: Warning conditions

5