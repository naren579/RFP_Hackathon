2. Select Add another community string to add additional strings.

Up to five strings are allowed. Create trap destinations

Use the Trap destinations tab in the Other configurations section to define one or more destinations for StorageGRID trap or inform notifications. When you enable the SNMP agent and select Save, StorageGRID sends notifications to each defined destination when alerts are triggered. Standard notifications are also sent for the supported MIB-II entities (for example, ifDown and coldStart). Steps

1. For the Default trap community field, optionally enter the default community string you want to use for SNMPv1 or SNMPv2 trap destinations.

1198

As required, you can provide a different ("custom") community string when you define a specific trap destination.

Default trap community can be a maximum of 32 characters and can’t contain whitespace characters.

2. To add a trap destination, select Create.

3. Select which SNMP version will be used for this trap destination.

4. Complete the Create trap destination form for the version you selected.

1199

1200

SNMPv1

If you selected SNMPv1 as the version, complete these fields. Field

Description

Type

Must be Trap for SNMPv1.

Host

An IPv4 or IPv6 address or a fully-qualified domain name (FQDN) to receive the trap.

Port

Use 162, which the standard port for SNMP traps unless you must use another value.

Protocol

Use UDP, which is the standard SNMP trap protocol unless you need to use TCP. Community string

Use the default trap community, if one was specified, or enter a custom community string for this trap destination. 1. For the Default trap community field, optionally enter the default community string you want to use for SNMPv1 or SNMPv2 trap destinations.

1198

As required, you can provide a different ("custom") community string when you define a specific trap destination.

Default trap community can be a maximum of 32 characters and can’t contain whitespace characters.

2. To add a trap destination, select Create.

3. Select which SNMP version will be used for this trap destination.

4. Complete the Create trap destination form for the version you selected.

1199

1200

SNMPv1

If you selected SNMPv1 as the version, complete these fields. Field

Description

Type

Must be Trap for SNMPv1.

Host

An IPv4 or IPv6 address or a fully-qualified domain name (FQDN) to receive the trap.

Port

Use 162, which the standard port for SNMP traps unless you must use another value.

Protocol

Use UDP, which is the standard SNMP trap protocol unless you need to use TCP. Community string

Use the default trap community, if one was specified, or enter a custom community string for this trap destination.

The custom community string can be a maximum of 32 characters and can’t contain whitespace.

SNMPv2c

If you selected SNMPv2c as the version, complete these fields.

Field Description

Type

Whether the destination will be used for traps or informs.

Host

An IPv4 or IPv6 address or FQDN to receive the trap.

Port

Use 162, which is the standard port for SNMP traps unless you must use another value.

Protocol

Use UDP, which is the standard SNMP trap protocol unless you need to use TCP. Community string

Use the default trap community, if one was specified, or enter a custom community string for this trap destination.

The custom community string can be a maximum of 32 characters and can’t contain whitespace.

SNMPv3

If you selected SNMPv3 as the version, complete these fields.

Field

Description Type

Whether the destination will be used for traps or informs.

Host

An IPv4 or IPv6 address or FQDN to receive the trap.

Port

Use 162, which is the standard port for SNMP traps unless you must use another value.

Protocol

Use UDP, which is the standard SNMP trap protocol unless you need to use TCP. USM user

The USM user that will be used for authentication.

If you selected Trap, only USM users without authoritative engine IDs are shown.

If you selected Inform, only USM users with authoritative engine IDs are shown.

If no users are shown:

1. Create and save the trap destination.

2. Go to Create USM users and create the user.

3. Return to the Trap destinations tab, select the saved destination from the table, and select Edit.

4. Select the user.

5. Select Create.

The trap destination is created and added to the table. Create agent addresses

Optionally, use the Agent addresses tab in the Other configurations section to specify one or more "listening addresses." These are the StorageGRID addresses on which the SNMP agent can receive queries.

If you don’t configure an agent address, the default listening address is UDP port 161 on all StorageGRID networks. Steps

1. Select Create.

2. Enter the following information.

Field

Description

Internet protocol

Whether this address will use IPv4 or IPv6.

By default, SNMP uses IPv4.

1201

Field

Description

Transport protocol

Whether this address will use UDP or TCP.