Note: Only one rangedb is required for metadata- only Storage Nodes.

Admin Node audit logs

System data

1 for each Admin Node on this host

200 GB

Admin Node tables

System data 1 for each Admin Node on this host

200 GB

80

Depending on the audit level configured, the size of user inputs such as S3 object key name, and how much audit log data you need to preserve, you might need to increase the size of the audit log LUN on each Admin Node.Generally, a grid generates approximately 1 KB of audit data per S3 operation, which would mean that a 200 GB LUN would support 70 million operations per day or 800 operations per second for two to three days. Minimum storage space for a host

The following table shows the minimum storage space required for each type of node. You can use this table to determine the minimum amount of storage you must provide to the host in each storage category, based on which nodes will be deployed on that host.

Disk snapshots can’t be used to restore grid nodes. Instead, refer to the grid node recovery procedures for each type of node. Type of node

Container pool

System data

Object data

Storage Node

100 GB

90 GB

4,000 GB

Admin Node

100 GB

490 GB (3 LUNs)

not applicable

Gateway Node

100 GB

90 GB

not applicable

Archive Node

100 GB

90 GB

not applicable

Example: Calculating the storage requirements for a host

Suppose you plan to deploy three nodes on the same host: one Storage Node, one Admin Node, and one Gateway Node. You should provide a minimum of nine storage volumes to the host. You will need a minimum of 300 GB of performance-tier storage for the node containers, 670 GB of performance-tier storage for system data and transaction logs, and 12 TB of capacity-tier storage for object data. Type of node

LUN purpose

Number of LUNs

LUN size

Storage Node

Container engine storage pool

1

300 GB (100 GB/node)

Storage Node

/var/local volume

1

90 GB

Storage Node

Object data

3

12 TB (4 TB/LUN)

Admin Node

/var/local volume

1

90 GB

Admin Node

Admin Node audit logs

1

200 GB

Admin Node Admin Node tables

1

200 GB

Gateway Node

/var/local volume

1

90 GB

81

Type of node

LUN purpose

Number of LUNs

LUN size

Total

9

Container pool: 300 GB

System data: 670 GB

Object data: 12,000 GB Storage requirements for Storage Nodes

A software-based Storage Node can have 1 to 16 storage volumes—3 or more storage volumes are recommended. Each storage volume should be 4 TB or larger.

An appliance Storage Node can have up to 48 storage volumes.

As shown in the figure, StorageGRID reserves space for object metadata on storage volume 0 of each Storage Node. Any remaining space on storage volume 0 and any other storage volumes in the Storage Node are used exclusively for object data. Number of LUNs

LUN size

Storage Node

Container engine storage pool

1

300 GB (100 GB/node)

Storage Node

/var/local volume

1

90 GB

Storage Node

Object data

3

12 TB (4 TB/LUN)

Admin Node

/var/local volume

1

90 GB

Admin Node

Admin Node audit logs

1

200 GB

Admin Node Admin Node tables

1

200 GB

Gateway Node

/var/local volume

1

90 GB

81

Type of node

LUN purpose

Number of LUNs

LUN size

Total

9

Container pool: 300 GB

System data: 670 GB

Object data: 12,000 GB Storage requirements for Storage Nodes

A software-based Storage Node can have 1 to 16 storage volumes—3 or more storage volumes are recommended. Each storage volume should be 4 TB or larger.

An appliance Storage Node can have up to 48 storage volumes.

As shown in the figure, StorageGRID reserves space for object metadata on storage volume 0 of each Storage Node. Any remaining space on storage volume 0 and any other storage volumes in the Storage Node are used exclusively for object data.

To provide redundancy and to protect object metadata from loss, StorageGRID stores three copies of the metadata for all objects in the system at each site. The three copies of object metadata are evenly distributed across all Storage Nodes at each site.

When installing a grid with metadata-only Storage Nodes, the grid must also contain a minimum number of nodes for object storage. See Types of Storage Nodes for more information about metadata-only Storage Nodes. For a single-site grid, at least two Storage Nodes are configured for objects and metadata.

For a multi-site grid, at least one Storage Node per site are configured for objects and metadata.

When you assign space to volume 0 of a new Storage Node, you must ensure there is adequate space for that node’s portion of all object metadata.

82

• At a minimum, you must assign at least 4 TB to volume 0.

If you use only one storage volume for a Storage Node and you assign 4 TB or less to the volume, the Storage Node might enter the Storage Read-Only state on startup and store object metadata only.

If you assign less than 500 GB to volume 0 (non-production use only), 10% of the storage volume’s capacity is reserved for metadata.