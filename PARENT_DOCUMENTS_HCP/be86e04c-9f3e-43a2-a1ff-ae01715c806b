<size>908</size> <contentType>tex/xml</contentType> </annotation> </annotations>

Retrieving annotations for objects and versions

You use the HTTP

GET method to retrieve an annotation for an object or version of an object. The annotation is returned in the format it had before it was stored.

You can also use a single request to retrieve object or version data and custom metadata together. Access permission

To retrieve an annotation, you need read permission.

Request header

GET /rest/directory/file?type=custom-metadata&annotation=annotation HTTP/1.1

Parameter

Required

Description

directory

Yes

Folder name.

file

Yes

Name of the file, including file extension.

type

Yes

Use the value custom-metadata. annotation

No

Use a value of the name of the annotation. You can omit this parameter for the default annotation.Used in conjunction with the type parameter.

nowait

No

HCP may detect that a GET request will take a significant amount of time to return an object. You can choose to have the request fail in this situation instead of waiting for HCP to return the object.

When a GET request fails because the request would take a significant amount of time to return an object and the nowait parameter is specified, HCP returns an HTTP 503 (Service Unavailable) error code. If this happens, retry the request a few times, waiting about thirty seconds between retries. version

No

To check whether an annotation exists for a specific object version, in addition to specifying the request elements listed above, specify this URL query parameter.

Response headers

The list below describes the request-specific response headers for this operation.

Content-Encoding

Always gzip. This header is returned only if the response data is compressed. Content-Length

The size of the returned data, in bytes.

Content-Type

Always text/xml.

ETag

The ETag of the object or version enclosed in double quotation marks ("). This header is returned only if the object has an ETag.

X-HCP-ChangeTimeMilliseconds

https://docs.hitachivantara.com/internal/api/webapp/print/72cda581-a515-4975-93dd-f591140b46a3

772/907

6/25/24, 11:34 AM

Content Platform System Management Help

The change time for the object, in milliseconds since January 1, 1970, at 00:00:00 UTC, followed by an integer that is unique for the change time. For example:

1336483100178.00. X-HCP-ChangeTimeString The change time for the object in this format:

yyyy-MM-ddThh:mm:ssZ

In this format, Z represents the offset from UTC and is specified as:

(+|-)hhmm

For example, 2020-09-18T09:18:20-0400 represents the start of the 20th second into 9:18 AM, September 18, 2020, EDT.

X-HCP-ContentLength

The size of the annotation, in bytes. This header is returned only if the request specifies a compressed response. X-HCP-Hash

The cryptographic hash algorithm HCP uses, along with the cryptographic hash value stored for the object, in this format:

X-HCP-Hash: hash-algorithmhash-value

You can use the returned hash value to verify that the stored data is the same as the data you sent. To perform the verification, compare this value with a hash value that you generate from the original data. The

X-HCP-Hash

header is not returned for multipart objects.

X-HCP-Size

The size of the object data, in bytes.

X-HCP-SymlinkTarget

The path to the target object as specified when the symbolic link was created.

This header is returned only if the URL specifies a symbolic link to an object. If this header is returned, the X-HCP-ACL value is always false. X-HCP-Type

The object entity type.

Response body

The body of the HTTP response contains the annotation.

Status codes

The table below describes the HTTP status codes that have specific meaning for this request.

Code

Meaning

Description