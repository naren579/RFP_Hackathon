https://docs.hitachivantara.com/internal/api/webapp/print/72cda581-a515-4975-93dd-f591140b46a3 Notes

421/907

6/25/24, 11:34 AM

Content Platform System Management Help

Response headers

HTTP/1.1 200 OK X-HCP-SoftwareVersion: 9.0.0.2 Content-Length: 0

Example: Retrieving a replication certificate

Here's a sample GET request that retrieves a replication certificate from the HCP system. The request is made using a system-level user account that includes the administrator or monitor role. Request with cURL command line

curl -k -i -H "Accept: application/xml" -H "Authorization: HCP YWxscm9sZXM=:04EC9F614D89FF5C7126D32ACB448382" "https://admin.hcp.example.com:9090/mapi/services/replication/certificates ?prettyprint"

Request in Python using PycURL

import pycurl filehandle = open("certificates.xml", 'wb') curl = pycurl.Curl() curl.setopt(pycurl.HTTPHEADER, ["Accept: application/xml", "Authorization: HCP \ YWxscm9sZXM=:04EC9F614D89FF5C7126D32ACB448382"]) curl.setopt(pycurl.URL, "https://admin.hcp.example.com:9090 /mapi/services/replication/certificates") curl.setopt(pycurl.SSL_VERIFYPEER, 0) curl.setopt(pycurl.SSL_VERIFYHOST, 0) curl.setopt(pycurl.WRITEFUNCTION, filehandle.write) curl.perform() print curl.getinfo(pycurl.RESPONSE_CODE) curl.close() filehandle.close() Request headers

GET /mapi/services/replication/cerificates HTTP/1.1 Host: admin.hcp.example.com:9090 Authorization: HCP YWxscm9sZXM=:04EC9F614D89FF5C7126D32ACB448382 Accept: application/xml

Response headers

HTTP/1.1 200 OK Content-Type: application/xml X-HCP-SoftwareVersion: 9.0.0.2 Content-Length: 329 Response body

<?xml version="1.0" encoding="UTF-8" standalone="yes"?> <certificates> <certificate> <expiresOn>2021-12-12T15:35:10-0500</expiresOn> <id>server</id> <subjectDN>CN=*.example.com, OU=HCP, O=Hitachi, L=Waltham, ST=Massachusetts, C=US</subjectDN> <validOn>2016-12-12T15:35:10-0500</validOn> </certificate> </certificates>

Example: Adding a replication certificate

Here's a sample PUT request that uploads a replication certificate to the HCP system. The request is made using a system-level user account that includes the administrator role. Request with cURL command line

curl -k -iT certificate.txt -H "Authorization: HCP YWxscm9sZXM=:04EC9F614D89FF5C7126D32ACB448382" "https://admin.hcp.example.com:9090/mapi/services/replication/certificates"

Request in Python using PycURL

import pycurl

filehandle = open("certificate.txt", 'wb') curl = pycurl.Curl() curl.setopt(pycurl.HTTPHEADER, ["Authorization: HCP \ YWxscm9sZXM=:04EC9F614D89FF5C7126D32ACB448382"]) curl.setopt(pycurl.URL, "https://admin.hcp.example.com:9090/mapi/" +