Status codes

The table below describes HTTP status codes that can be returned in response to a request to complete a multipart upload. Code

Meaning

Description

200

OK

Possible reasons include:

HCP successfully started processing the request.

To determine whether the multipart upload successfully completed, check whether HCP returned a response body that identifies the resulting multipart object or an error response body.

The following errors can cause a request to complete a multipart upload to fail after HCP returns the 200 (OK) status code:

The list of parts in the request body includes a part, other than the last part, that is smaller than one megabyte. The list of parts in the request body includes one or more part numbers that are not the number of an uploaded part. The ETag associated with one or more part numbers listed in the request body is not the ETag returned for the part with the specified part number. The parts in the request body are not listed in ascending order. The request includes the If-Match request header and either the value specified by the header does not match the ETag of the most recent version of the specified object, or the specified object does not already exist.

The application attempts to set a labeled hold on an object with an HCP version earlier than 9.1.

400 Bad Request

Possible reasons include:

The request does not include a Content-Type header. The XML in the request body is malformed or contains an invalid value. The request includes a custom metadata x-amz-meta- header. The labeled hold ID length exceeds 64 characters. A label hold ID must have at least one character. The request contains over 100 labeled holds. The active labeled hold limit exceeds 100 labels. A request cannot specify the same labeled hold ID as both active and inactive. The request must specify the labeled hold id and hold values. To use the labeled hold feature, an online upgrade is required to HCP 9.1 or later.

403 Forbidden

Possible reasons include:

The request specifies anonymous access. Only an authenticated user can complete a multipart upload. The credentials provided with the request are invalid. The credentials provided with the request do not match the credentials used to initiate the multipart upload. You do not have permission to complete multipart uploads in the specified bucket. The S3 compatible API is currently disabled for the specified bucket.

404 Not Found

One of these:

The specified multipart upload does not exist. Either the upload ID is invalid, or the multipart upload was aborted or already completed. The specified bucket does not exist.

500

Internal Server Error

An internal error occurred. If this error persists, contact your tenant administrator.

503 Service Unavailable

HCP is temporarily unable to handle the request, probably due to system overload, maintenance, or upgrade. Try the request again, gradually increasing the delay between each successive attempt.

If this error persists, contact your tenant administrator.

Example: Completing a multipart upload

https://docs.hitachivantara.com/internal/api/webapp/print/72cda581-a515-4975-93dd-f591140b46a3

655/907

6/25/24, 11:34 AM

Content Platform System Management Help

Here is a sample POST request that completes a multipart upload for an object named acctg/RulesAndRegulations.pdf in the finance bucket. The request body is in a file named Acctg-RulesAndRegulations.xml.

In this example, the retention value of the object is set to five days past the time when the object was stored. Additionally, a labeled retention hold is placed on the object. The user has write and data access permissions on the bucket.

The request is being made while versioning is enabled for the bucket. Request body