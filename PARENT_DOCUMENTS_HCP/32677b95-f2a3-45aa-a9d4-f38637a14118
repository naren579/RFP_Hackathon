<link> <name>MA-CA</name> <description>Active/active link between systems in MA and CA</description> <type>ACTIVE_ACTIVE</type> <connection> <remoteHost>replication.admin.hcp-ca.example.com</remoteHost> </connection> <compression>false</compression> <encryption>false</encryption> <priority>OLDEST_FIRST</priority> <failoverSettings> <local> <autoFailover>true</autoFailover> <autoFailoverMinutes>60</autoFailoverMinutes> </local> <remote> <autoFailover>true</autoFailover> <autoFailoverMinutes>60</autoFailoverMinutes> </remote> </failoverSettings> </link>

Request with cURL command line

curl -k -iT MA-CA.xml -H "Content-Type: application/xml" -H "Authorization: HCP YWxscm9sZXM=:04EC9F614D89FF5C7126D32ACB448382" "https://admin.hcp-ma.example.com:9090/mapi/services/replication/links"

Request in Python using PycURL

import pycurl

import os filehandle = open("MA-CA.xml", 'rb') curl = pycurl.Curl() curl.setopt(pycurl.HTTPHEADER, ["Content-Type: application/xml", "Authorization: HCP \ YWxscm9sZXM=:04EC9F614D89FF5C7126D32ACB448382"]) curl.setopt(pycurl.URL, "https://admin.hcp-ma.example.com:9090/mapi/services/" + "replication/links") curl.setopt(pycurl.SSL_VERIFYPEER, 0) curl.setopt(pycurl.SSL_VERIFYHOST, 0) curl.setopt(pycurl.UPLOAD, 1) curl.setopt(pycurl.INFILESIZE, os.path.getsize("MA-CA.xml")) curl.setopt(pycurl.READFUNCTION, filehandle.read) curl.perform() print curl.getinfo(pycurl.RESPONSE_CODE) curl.close() filehandle.close() Request headers

PUT /mapi/services/replication/links HTTP/1.1 Host: admin.hcp-ma.example.com:9090 Authorization: HCP YWxscm9sZXM=:04EC9F614D89FF5C7126D32ACB448382 Content-Type: application/xml Content-Length: 648

https://docs.hitachivantara.com/internal/api/webapp/print/72cda581-a515-4975-93dd-f591140b46a3 Notes

421/907

6/25/24, 11:34 AM

Content Platform System Management Help

Response headers

HTTP/1.1 200 OK X-HCP-SoftwareVersion: 9.0.0.2 Content-Length: 0

Example: Retrieving a replication certificate

Here's a sample GET request that retrieves a replication certificate from the HCP system. The request is made using a system-level user account that includes the administrator or monitor role. Request with cURL command line

curl -k -i -H "Accept: application/xml" -H "Authorization: HCP YWxscm9sZXM=:04EC9F614D89FF5C7126D32ACB448382" "https://admin.hcp.example.com:9090/mapi/services/replication/certificates ?prettyprint"

Request in Python using PycURL