695/907

6/25/24, 11:34 AM

Content Platform System Management Help

Tenant administrators create retention classes for namespaces. When creating a class, the administrator specifies the class name, the retention setting, and whether HCP can automatically delete objects in the class when the retention period expires.

Note: Automatic deletion must be enabled for the namespace for objects under retention to be automatically deleted.

Each namespace has its own set of retention classes. You cannot apply a retention class defined in one namespace to an object in a different namespace. A namespace can be configured to allow administrative users to increase or decrease class retention times and delete classes. Otherwise, the retention time for a class can only be increased, and classes cannot be deleted. In all cases, any change to a retention class affects the retention period of all objects in that class.

If a retention class is deleted, the objects assigned to that class have a retention setting of Deletion Prohibited (-1) and cannot be deleted.

If a new retention class is created with the same name as a deleted retention class, existing objects in the deleted class get the retention setting of the new class.

You can assign a retention class to an existing object using any namespace access protocol. With the REST API, you can assign a retention class to an object when you store the object in the namespace, thereby overriding the default retention setting.

Viewing retention settings With the HTTP protocol, retention information is returned by HTTP response headers. With the WebDAV, CIFS, and NFS protocols, you view retention information for an object in the retention.txt metafile.

Retention information returned through HTTP

When you use HTTP to retrieve metadata for an object, the returned header information includes four retention-related values, as shown below. X-HCP-Retention

One of:

The retention setting expressed as a number of seconds since January 1, 1970, at 00:00:00 UTC One of the special values 0, -1, or -2

X-HCP-RetentionString One of:

The retention period end time expressed as a datetime value in ISO 8601 format or time in seconds since January 1, 1970 One of the special values Deletion Allowed, Deletion Prohibited, or Initial Unspecified X-HCP-RetentionClass

The retention class of the object or an empty string if the object is not assigned to a retention class. The information is returned in this format:

(retention-class-name, retention-class-value)

If the retention class is deleted, retention-class-value is undefined.

X-HCP-RetentionHold

A value of true or false that indicates whether the object is on hold. retention.txt settings for an object

The table below shows the possible retention settings in the retention.txt metafile for an object.

0

0

Deletion Allowed

Deletion Allowed

Hold

0

0

Deletion Allowed (retention-class-name, 0)

Deletion Allowed (retention-class-name, 0)

Hold

1

1

Deletion Prohibited Deletion Prohibited

Hold

1

1

Deletion Prohibited (retention-class-name, -1)

Deletion Prohibited (retention-class-name, -1)

Hold

2

2

Initial Unspecified

Initial Unspecified

Hold

2

2

Initial Unspecified (retention-class-name, -2)

Initial Unspecified (retention-class-name, -2)

https://docs.hitachivantara.com/internal/api/webapp/print/72cda581-a515-4975-93dd-f591140b46a3

696/907

6/25/24, 11:34 AM

Content Platform System Management Help

Hold

retention-period-end-seconds-past-1970-1-1retention-period-end-datetime

retention-period-end-seconds-past-1970-1-1retention-period-end-datetimeHold retention-period-end-seconds-past-1970-1-1retention-period-end-datetime (retention- class-name, retention-class-duration)