Note: At any given time, an NFS mount point can be included in only one storage pool.

An NFS storage pool is compliant only if all of the NFS mount points in the pool are associated with compliant NFS storage components. When you add an NFS mount point to a new or existing NFS storage pool, HCP creates that mount point and mounts the applicable storage volume (called an NFS volume or an

external storage volume) on a node in the HCP system. HCP then adds that NFS volume to the NFS storage pool.

HCP uses a round-robin algorithm to determine which node to associate with each new NFS volume that’s added to an NFS storage pool. This method of assigning NFS volumes to

the nodes in the HCP system ensures that the volumes are distributed evenly among the nodes.

If the node with which an NFS storage volume is associated becomes unavailable, that volume also becomes unavailable. HCP does not reassign the volume to a different node. When the node returns to service, the volume becomes available again. In the HCP System Management Console, you can use the Hardware and Storage Node pages to view information about the NFS storage volumes (called external storage volumes) that are associated with each node in the HCP system.

Considerations for using NFS volumes

These considerations apply to using NFS volumes with HCP:

HCP can use multiple NFS shares from a single device that’s represented by an NFS storage component. Keep in mind, however, that the larger the number of shares HCP uses, the greater the I/O load on the device. Typically, you specify export options for a share according to the standards for your site. However, if HCP is unable to mount the extended storage volume that you created as an NFS share, you may need to change the export options. After changing the export options, you need to export the NFS share again. For each NFS mount point that’s associated with an NFS storage component, you can specify more mount options than the required ones. You might do this, for example, to

set the network block size for read or write requests to the optimal size for the storage device that’s represented by the NFS storage component. However, if HCP is unable to mount the extended storage volume that you created as an NFS share, you may need to change the additional mount options that you specified. If the share for an NFS volume becomes unavailable (for example, because the extended storage device that’s hosting the share is inaccessible), HCP tries periodically to remount the volume. If, after the share is available again, the remount fails, you can try to manually remount the NFS volume.

Manually remount the NFS volume

1. On the left side of the Storage page, click Components. 2. In the components list, click the name of the NFS storage component that is associated with the NFS volume that you want to remount.

3. At the top of the panel that opens, click the Mount Points tab.

4. On the Mount Points panel, in the table row that contains the NFS mount point that corresponds to the NFS volume you want to remount, click the remount control ( ).

HCP attempts to remount the NFS volume. If the remount fails, contact your authorized HCP service provider for help. To see which node the NFS volume is associated with, hover your cursor over the status icon for the mount point on the Mount Points panel.

Considerations for using NFS volumes (cont.)

You cannot move an NFS volume from one NFS storage pool to another. You cannot control which NFS volume HCP writes data to within an NFS storage pool.

When HCP creates a mount point for a specific NFS volume, HCP stores a file named .__hcp_uuid__ in the shared directory on the device that’s represented by the NFS storage component associated with that mount point. This file uniquely associates the NFS shared directory with the NFS volume. As a result:

https://docs.hitachivantara.com/internal/api/webapp/print/72cda581-a515-4975-93dd-f591140b46a3

54/907

6/25/24, 11:33 AM

Content Platform System Management Help