Objects that have been relocated or renamed due to content collisions are flagged as replication collisions in their system metadata. Clients can use the metadata query API to search for objects that are flagged as replication collisions. If an object thatâ€™s flagged as a replication collision changes (for example, if its retention period is extended), its collision flag is removed. If a client creates a copy of a flagged object with a new name, the collision flag is not set on the copy.

Depending on the bucket configuration, objects flagged as replication collisions may be automatically deleted after a set number of days. The days are counted from the time the collision flag is set. If the collision flag is removed from an object, the object is no longer eligible for automatic deletion.

You cannot use the S3 compatible API to change the way HCP handles objects that are flagged as replication collisions. However, tenant administrators can change this configuration for the buckets you create. Custom metadata collisions

A custom metadata collision occurs when these events occur in the order shown:

1. One of these changes occurs:

Custom metadata is added to a given object on each of two systems in a replication topology, but the added custom metadata is different on the two systems.

The addition of custom metadata to an object on only one of the systems does not result in a custom metadata collision. Instead, the new custom metadata is replicated from that system to the other system without conflict.

The custom metadata for a given object is replaced on each of two systems in a replication topology, but the replacement custom metadata is different on the two systems. The custom metadata for a given object is replaced on one system in a replication topology, and the same custom metadata is removed on another system in the topology.

2. The change made on one of the systems is replicated to the other system. Custom metadata is treated as a single unit. If a collision occurs when a custom metadata change for a given object is replicated from one system (system A) in a replication topology to another system (system B) in the topology:

If the last change on system A is more recent than the last change on system B, HCP applies the change from system A to the custom metadata on system B If the last change on system B is more recent than the last change on system A, HCP does not change the custom metadata on system B

For example, suppose a given object starts out with the same custom metadata on system A and system B. The table below shows a sequence of events in which the custom metadata for the object is changed and the change is then replicated. 1. On system B, a client replaces the custom metadata for the object with new custom metadata. 2. On system A, a client replaces the custom metadata for the object with different custom metadata from the custom metadata used on system B. 3. The change on system A is replicated to system B. The resulting custom metadata for the object on system B is the new custom metadata from system A. Access control list collisions

An ACL collision occurs when these events occur in the order shown:

1. Different changes are made to the ACL for a given object on each of two systems in a replication topology. 2. The changed ACL on one of the systems is replicated to the other system.

An ACL is treated as a single unit. If a collision occurs when a changed ACL for a given object is replicated from one system (system A) in a replication topology to another system (system B) in the topology:

If the last change to the ACL on system A is more recent than the last change to the ACL on system B, HCP changes the ACL on system B to match the changed ACL on system A If the last change to the ACL on system B is more recent than the last change to the ACL on system A, HCP does not change the ACL on system B

https://docs.hitachivantara.com/internal/api/webapp/print/72cda581-a515-4975-93dd-f591140b46a3

557/907

6/25/24, 11:34 AM

Content Platform System Management Help For example, suppose the ACL for a given object starts out with these grants on both system A and system B:

All users: read User lgreen: write User mwhite: write, delete

The list below shows a sequence of events in which the ACL for the object is changed and the change is then replicated.

1. On system B, a client changes the grants in the ACL to:

All users: read User lgreen: write, delete User pdgrey: write