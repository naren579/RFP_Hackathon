Enabling or disabling versioning for a bucket

You use the HTTP PUT method with the versioning query parameter to enable or disable versioning for a bucket. To enable or disable versioning for a bucket, you need to be the bucket owner.

While versioning is enabled for a bucket, the versioning status of the bucket is Enabled. If you disable versioning for a bucket after it has been enabled, the versioning status changes to Suspended. If versioning has never been enabled for a bucket, the bucket has no explicit versioning status.

https://docs.hitachivantara.com/internal/api/webapp/print/72cda581-a515-4975-93dd-f591140b46a3

578/907

6/25/24, 11:34 AM

Content Platform System Management Help

To enable or disable versioning for a bucket, you specify the new versioning status in an XML request body.

Request line Depending on whether the bucket name is included in the hostname in the S3 compatible request, a request to enable or disable versioning for a bucket has either of these formats:

With the bucket name included in the hostname:

PUT /?versioning HTTP/1.1

With the bucket name following the hostname:

PUT /bucket-name?versioning HTTP/1.1

The versioning query parameter is not case sensitive.

Required headers Authorization

Specifies user credentials or requests anonymous access.

Content-Length

Specifies the size, in bytes, of the request body.

Date

Specifies the date and time when the request is being made according to the requester. Normally, this is the current date and time. The date and time must always be specified using Greenwich Mean Time (GMT). To specify the date and time, use this format: DDD, dd MMM yyyy HH:mm:ss (+0000|GMT)

In this format:

DDD

The three-letter abbreviation for the day of the week, with an uppercase first letter (for example, Mon).

dd

The two-digit day of the month.

MMM

The three-letter abbreviation for the month, with an uppercase first letter (for example, Feb). yyyy

The four-digit year.

HH

The hour on a 24-hour clock.

mm

The number of minutes.

ss

The number of seconds.

For example:

Thu, 23 Mar 2017 14:27:05 +0000

All S3 compatible requests must include either a Date header or an x-amz-date header. If a request includes both headers, HCP uses the date and time in the x-amz-date header. Host

Specifies the hostname for the request. The host name identifies either a tenant or a bucket. For a tenant, use this format:

tenant-name.hcp-domain-name

For a bucket, use this format:

bucket-name.tenant-name.hcp-domain-name

x-amz-date

Specifies the date and time at which the request is being made according to the requester. Normally, this is the current date and time. For the valid values for this header, see the description of the Date header above. Optional headers

Content-Type

Specifies the Internet media type of the request body. The only valid values are application/xml and text/xml.

Request body

For the content of a versioning request body, you use XML in this format:

<?xml version="1.0" encoding="UTF-8" standalone="yes"?> <VersioningConfiguration xmlns="http://s3.amazonaws.com/doc/2006-03-01/"> <Status>versioning-status</Status> </VersioningConfiguration>

The list below describes the XML elements in a versioning request body. The elements are listed in alphabetical order. Status

Child of the VersioningConfiguration element. Valid values for the Status element are:

Enabled

Enables versioning for the bucket

https://docs.hitachivantara.com/internal/api/webapp/print/72cda581-a515-4975-93dd-f591140b46a3

579/907

6/25/24, 11:34 AM

Content Platform System Management Help

Suspended